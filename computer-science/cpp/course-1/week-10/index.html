<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="優萌初華" href="https://shoka.lostyu.me/rss.xml"><link rel="alternate" type="application/atom+xml" title="優萌初華" href="https://shoka.lostyu.me/atom.xml"><link rel="alternate" type="application/json" title="優萌初華" href="https://shoka.lostyu.me/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="C++"><link rel="canonical" href="https://shoka.lostyu.me/computer-science/cpp/course-1/week-10/"><meta name="description" content="以下为个人学习笔记和习题整理 课程：计算机程序设计（C++）- 西安交通大学 @ 中国大学 MOOC https:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;XJTU-46006  # 课堂笔记 # 构造函数 在声明一个对象后，紧接着要给对象初始化，对象初始化实质上就是对所有数据成员赋值。 如果对象中某个数据成员未赋值，则该数据成员的值不确定，那么该对象的值不完整。 构造函数 Con"><meta property="og:type" content="article"><meta property="og:title" content="第 10 周 数据的抽象与封装：类与对象 2"><meta property="og:url" content="https://shoka.lostyu.me/computer-science/cpp/course-1/week-10/"><meta property="og:site_name" content="優萌初華"><meta property="og:description" content="以下为个人学习笔记和习题整理 课程：计算机程序设计（C++）- 西安交通大学 @ 中国大学 MOOC https:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;XJTU-46006  # 课堂笔记 # 构造函数 在声明一个对象后，紧接着要给对象初始化，对象初始化实质上就是对所有数据成员赋值。 如果对象中某个数据成员未赋值，则该数据成员的值不确定，那么该对象的值不完整。 构造函数 Con"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-05-02T07:21:11.000Z"><meta property="article:modified_time" content="2020-05-02T07:21:11.000Z"><meta property="article:author" content="Ruri Shimotsuki"><meta property="article:tag" content="C++"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@amehime"><title>第 10 周 数据的抽象与封装：类与对象 2 - 计算机程序设计（C++）- 西安交通大学 - C++ - 计算机科学 | Yume Shoka = 優萌初華 = 有夢書架</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">第 10 周 数据的抽象与封装：类与对象 2</h1><div class="meta"><span class="item" title="创建时间：2020-05-02 15:21:11"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-05-02T15:21:11+08:00">2020-05-02</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>14k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>13 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/f93f124fd90670f86b81841581c3698c.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/c370ed4ee6c8ac92941a49e11209fc78.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/08909482bc207d17564c06ef2496e12f.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/daee0852e8584814639c1cdd5f5b1ed4.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/0b981f44812f71ac23d1826975a3d499.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/bf19f93c8ef2265d8fae25e6b245a61e.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="分类于 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/cpp/" itemprop="item" rel="index" title="分类于 C++"><span itemprop="name">C++</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/cpp/course-1/" itemprop="item" rel="index" title="分类于 计算机程序设计（C++）- 西安交通大学"><span itemprop="name">计算机程序设计（C++）- 西安交通大学</span></a><meta itemprop="position" content="3"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://shoka.lostyu.me/computer-science/cpp/course-1/week-10/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Ruri Shimotsuki"><meta itemprop="description" content="有夢書架, 琉璃的医学 & 编程笔记"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="優萌初華"></span><div class="body md" itemprop="articleBody"><div class="note info"><p>以下为个人学习笔记和习题整理<br>课程：计算机程序设计（C++）- 西安交通大学 @ 中国大学 MOOC<br><span class="exturl" data-url="aHR0cHM6Ly93d3cuaWNvdXJzZTE2My5vcmcvY291cnNlL1hKVFUtNDYwMDY=">https://www.icourse163.org/course/XJTU-46006</span></p></div><h1 id="课堂笔记"><a class="anchor" href="#课堂笔记">#</a> 课堂笔记</h1><h2 id="构造函数"><a class="anchor" href="#构造函数">#</a> 构造函数</h2><p>在声明一个对象后，紧接着要给对象初始化，<strong>对象初始化</strong>实质上就是对所有数据成员赋值。</p><p>如果对象中某个数据成员未赋值，则该数据成员的值不确定，那么该对象的值不完整。</p><p>构造函数 <code>Constructor</code> 用于创建一个对象，提供了初始化该对象的一种简便手段。</p><figure class="highlight cpp"><figcaption data-lang="C++"><span>语法格式</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>类名<span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>参数表<span class="token operator">></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token operator">&lt;</span>函数体<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>注意：</p><ul><li>构造函数的函数名<strong>必须</strong>与类名<strong>相同</strong></li><li>构造函数<ins>没有返回值</ins></li><li>其功能是将对象中的所有数据成员进行初始化，一般由一系列赋值语句构成</li><li>由系统在声明对象时自动调用</li></ul><h3 id="有无构造函数的区别"><a class="anchor" href="#有无构造函数的区别">#</a> 有无构造函数的区别</h3><p>在前面章节中的程序声明变量</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">Date</span> today<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">2013</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">Date</span> <span class="token function">today</span><span class="token punctuation">(</span><span class="token number">2013</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>以上为变量声明的同时赋初值，即都允许初始化。</p><ul><li>对于无构造函数的类，声明变量（对象）不允许初始化</li></ul><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>CLOCK alarm<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">53</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// 错误</span></pre></td></tr><tr><td data-num="2"></td><td><pre>CLOCK <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">53</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 错误</span></pre></td></tr></table></figure><ul><li>有构造函数就允许初始化</li></ul><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>Date <span class="token function">birthday</span><span class="token punctuation">(</span><span class="token number">1998</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Date birthday<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1998</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// 错误</span></pre></td></tr></table></figure><h2 id="重载构造函数"><a class="anchor" href="#重载构造函数">#</a> 重载构造函数</h2><ul><li>一个类中允许定义多个构造函数</li><li>在声明对象时自动选择执行某个构造函数</li></ul><p>数据成员初始化的四种方法：</p><ol><li>在构造函数的函数体中进行初始化</li></ol><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">Date</span><span class="token punctuation">(</span>Date <span class="token operator">&amp;</span>d<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	year<span class="token operator">=</span>d<span class="token punctuation">.</span>year<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	month<span class="token operator">=</span>d<span class="token punctuation">.</span>month<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	day<span class="token operator">=</span>d<span class="token punctuation">.</span>day<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol start="2"><li>在构造函数的头部初始化</li></ol><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>类名<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token operator">&lt;</span>构造函数名<span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&lt;</span>参数表<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token operator">&lt;</span>变量<span class="token number">1</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&lt;</span>初值<span class="token number">1</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">,</span>…<span class="token operator">&lt;</span>变量n<span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&lt;</span>初值n<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>…<span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">Date</span><span class="token double-colon punctuation">::</span><span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">day</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol start="3"><li>混合初始化：前两种方式结合</li></ol><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">Date</span><span class="token double-colon punctuation">::</span><span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> m<span class="token punctuation">,</span><span class="token keyword">int</span> d<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	day<span class="token operator">=</span>d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol start="4"><li>使用默认参数初始化</li></ol><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">char</span> yy<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> mm <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> dd <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	year <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>yy<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	month <span class="token operator">=</span> mm<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	day <span class="token operator">=</span> dd<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="例子日期类中4个重载构造函数"><a class="anchor" href="#例子日期类中4个重载构造函数">#</a> 例子：日期类中 4 个重载构造函数</h3><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Date</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token comment">// 无参构造函数</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">day</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token comment">// 默认参数构造函数</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> yy<span class="token punctuation">,</span><span class="token keyword">int</span> mm <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">int</span> dd <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token comment">// 日期对象参数构造函数</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span>Date <span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>month<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">day</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token comment">// 字符串日期构造函数</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 默认参数构造函数的定义</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token class-name">Date</span><span class="token double-colon punctuation">::</span><span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> yy<span class="token punctuation">,</span><span class="token keyword">int</span> mm<span class="token punctuation">,</span><span class="token keyword">int</span> dd<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">day</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>yy<span class="token operator">>=</span><span class="token number">1900</span><span class="token operator">&amp;&amp;</span>yy<span class="token operator">&lt;=</span><span class="token number">9999</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		year <span class="token operator">=</span> yy<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>mm<span class="token operator">>=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>mm<span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		month <span class="token operator">=</span> mm<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		year<span class="token operator">=</span><span class="token number">1900</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>dd<span class="token operator">>=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>dd<span class="token operator">&lt;=</span><span class="token number">31</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		day <span class="token operator">=</span> dd<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		year<span class="token operator">=</span><span class="token number">1900</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>		month<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token comment">// 重载构造函数的定义</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token class-name">Date</span><span class="token double-colon punctuation">::</span><span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>ps<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">day</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token keyword">char</span> py<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>pm<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>pd<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token function">strncpy</span><span class="token punctuation">(</span>py<span class="token punctuation">,</span>ps<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	ps<span class="token operator">=</span>ps<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token function">strncpy</span><span class="token punctuation">(</span>pm<span class="token punctuation">,</span>ps<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	ps<span class="token operator">=</span>ps<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token function">strncpy</span><span class="token punctuation">(</span>pd<span class="token punctuation">,</span>ps<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token keyword">int</span> yy<span class="token operator">=</span><span class="token function">atoi</span><span class="token punctuation">(</span>py<span class="token punctuation">)</span><span class="token punctuation">,</span>mm<span class="token operator">=</span><span class="token function">atoi</span><span class="token punctuation">(</span>pm<span class="token punctuation">)</span><span class="token punctuation">,</span>dd<span class="token operator">=</span><span class="token function">atoi</span><span class="token punctuation">(</span>pd<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>yy<span class="token operator">>=</span><span class="token number">1900</span><span class="token operator">&amp;&amp;</span>yy<span class="token operator">&lt;=</span><span class="token number">9999</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>		year <span class="token operator">=</span> yy<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>mm<span class="token operator">>=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>mm<span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>		month <span class="token operator">=</span> mm<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>		year<span class="token operator">=</span><span class="token number">1900</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>dd<span class="token operator">>=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>dd<span class="token operator">&lt;=</span><span class="token number">31</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>		day <span class="token operator">=</span> dd<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>		year<span class="token operator">=</span><span class="token number">1900</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>		month<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="90"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="91"></td><td><pre></pre></td></tr><tr><td data-num="92"></td><td><pre><span class="token comment">// 测试</span></pre></td></tr><tr><td data-num="93"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>	Date date1<span class="token punctuation">;</span> <span class="token comment">// 使用无参构造函数</span></pre></td></tr><tr><td data-num="95"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"date1:"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	date1<span class="token punctuation">.</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre></pre></td></tr><tr><td data-num="98"></td><td><pre>	Date <span class="token function">date2</span><span class="token punctuation">(</span><span class="token number">2006</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用哪个构造函数？</span></pre></td></tr><tr><td data-num="99"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"date2:"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	date2<span class="token punctuation">.</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre></pre></td></tr><tr><td data-num="102"></td><td><pre>	Date <span class="token function">date3</span><span class="token punctuation">(</span><span class="token number">2006</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用哪个构造函数？</span></pre></td></tr><tr><td data-num="103"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"date3:"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>	date3<span class="token punctuation">.</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="105"></td><td><pre></pre></td></tr><tr><td data-num="106"></td><td><pre>	Date <span class="token function">date4</span><span class="token punctuation">(</span><span class="token number">2006</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用哪个构造函数？</span></pre></td></tr><tr><td data-num="107"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"date4:"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>	date4<span class="token punctuation">.</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre></pre></td></tr><tr><td data-num="110"></td><td><pre>	Date <span class="token function">date5</span><span class="token punctuation">(</span><span class="token number">2006</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用哪个构造函数？</span></pre></td></tr><tr><td data-num="111"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"date5:"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	date5<span class="token punctuation">.</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="113"></td><td><pre></pre></td></tr><tr><td data-num="114"></td><td><pre>	Date <span class="token function">date6</span><span class="token punctuation">(</span>date4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用哪个构造函数？</span></pre></td></tr><tr><td data-num="115"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"date6:"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="116"></td><td><pre>	date6<span class="token punctuation">.</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="117"></td><td><pre></pre></td></tr><tr><td data-num="118"></td><td><pre>	Date <span class="token function">date7</span><span class="token punctuation">(</span><span class="token string">"2008-08-08"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用哪个构造函数？</span></pre></td></tr><tr><td data-num="119"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"date7:"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>	date7<span class="token punctuation">.</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="121"></td><td><pre></pre></td></tr><tr><td data-num="122"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="123"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="析构函数"><a class="anchor" href="#析构函数">#</a> 析构函数</h2><ul><li>构造函数 <code>Constructor</code> ：在对象创建时执行，提供了初始化对象的一种简便手段。</li><li>析构函数 <code>Destructor</code> ：在对象被撤销时 (前) 执行，用于完成对象被撤销前的一些清理工作。</li></ul><blockquote><p>具体地说，析构函数往往用于释放 “资源”，如在构造函数中动态申请的内存空间。<br>也可以被用来执行 “用户希望在最后一次使用对象之后所执行的任何操作”，例如输出有关信息等。</p></blockquote><h3 id="对象的存储空间"><a class="anchor" href="#对象的存储空间">#</a> 对象的存储空间</h3><p>若一个类声明了五个对象，存储空间如何分配？</p><blockquote><p>每个对象中的数据成员分配了存储空间。<br>所有对象中的函数成员共用一个存储空间，在代码区存放。</p></blockquote><h3 id="定义方法"><a class="anchor" href="#定义方法">#</a> 定义方法</h3><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>类名<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token operator">&lt;</span>类名<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token operator">&lt;</span>函数体<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>注意：</p><ul><li>函数名是类名前面加 <code>~</code> 符号</li><li>析构函数不得返回任何值</li><li>析构函数不得带有任何参数</li><li>其主要功能是在撤销对象之前进行一些善后处理工作</li><li>由系统自动调用</li></ul><p>例子：日期类中增加析构函数</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Date</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token comment">// 无参构造函数</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">day</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token comment">// 默认参数构造函数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> yy<span class="token punctuation">,</span><span class="token keyword">int</span> mm <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">int</span> dd <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token comment">// 日期对象参数构造函数</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span>Date <span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">year</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">month</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>month<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">day</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token comment">// 字符串日期构造函数</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token operator">~</span><span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// 析构函数定义</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token comment">// 由于析构函数是空函数 (函数体中没有一条语句)，没有感觉到析构函数被自动运行</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="实际意义的析构函数"><a class="anchor" href="#实际意义的析构函数">#</a> 实际意义的析构函数</h3><pre class="info"><code>机器人的特征
	姓名
	型号
	整数：待翻译的整数
	翻译的英文句子字符串：字符指针，句子有长有短
	……
机器人的功能
	翻译整数函数：形成英文字符串，并将字符串指针返回
	构造函数
	设置函数
	输出英文句子函数
	析构函数</code></pre><figure class="highlight cpp"><figcaption data-lang="C++"><span>机器人类</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">robot</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token comment">// 机器人姓名</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token comment">// 机器人型号</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">char</span> type<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token comment">// 构造函数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token function">robot</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">"XXXXXX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span><span class="token string">"XXXXXX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token comment">// 设置修改数据</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span>charn<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>chart<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token comment">// 英文中每三位数读法相同，所以定义 out 函数翻译小于 1000 的整数</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">out</span><span class="token punctuation">(</span>inta<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token comment">// 将 1 至 1999999999 的整数翻译成英文句子</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">tran_int</span><span class="token punctuation">(</span>intn<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token comment">// 析构函数</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token operator">~</span><span class="token function">robot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 定义两个全局字符指针数组，存取所需的单词</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">//num1 中为 1 到 19，空出了 0，所以可以直接用 num1 [n] 调用，得到 n 对应单词</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">char</span> <span class="token operator">*</span>num1<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"one "</span><span class="token punctuation">,</span><span class="token string">"two "</span><span class="token punctuation">,</span><span class="token string">"three "</span><span class="token punctuation">,</span><span class="token string">"four "</span><span class="token punctuation">,</span><span class="token string">"five "</span><span class="token punctuation">,</span><span class="token string">"six "</span><span class="token punctuation">,</span><span class="token string">"seven "</span><span class="token punctuation">,</span><span class="token string">"eight "</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token string">"nine "</span><span class="token punctuation">,</span><span class="token string">"ten "</span><span class="token punctuation">,</span><span class="token string">"eleven "</span><span class="token punctuation">,</span><span class="token string">"twelve "</span><span class="token punctuation">,</span> <span class="token string">"thirteen "</span><span class="token punctuation">,</span><span class="token string">"fourteen "</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token string">"fifteen "</span><span class="token punctuation">,</span><span class="token string">"sixteen "</span><span class="token punctuation">,</span><span class="token string">"seventeen "</span><span class="token punctuation">,</span><span class="token string">"eighteen "</span><span class="token punctuation">,</span><span class="token string">"nineteen "</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">//num10 中为 20-90，空出了 0 和 1，所以可以直接用 num10 [n/10] 调用，得到 n 对应单词</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">char</span> <span class="token operator">*</span>num10<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token string">""</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"twenty "</span><span class="token punctuation">,</span><span class="token string">"thirty "</span><span class="token punctuation">,</span><span class="token string">"forty "</span><span class="token punctuation">,</span><span class="token string">"fifty "</span><span class="token punctuation">,</span><span class="token string">"sixty "</span><span class="token punctuation">,</span><span class="token string">"seventy "</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		<span class="token string">"eighty "</span><span class="token punctuation">,</span><span class="token string">"ninety "</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token comment">// 小于 1000 整数翻译函数</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token keyword">void</span> robot<span class="token double-colon punctuation">::</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token keyword">int</span> b<span class="token operator">=</span>a<span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token comment">// 若百位不为零，输出百位数加 hundred，</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token comment">// 若此时十位个位均为 0，不加 and</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">/</span><span class="token number">100</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>		cout<span class="token operator">&lt;&lt;</span>num1<span class="token punctuation">[</span>a<span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">"hundred "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="54"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>			cout<span class="token operator">&lt;&lt;</span><span class="token string">"and "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token comment">// 当后两位在 20 以内时，直接调用 num1 [n]，输出</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>		cout<span class="token operator">&lt;&lt;</span>num1<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token comment">// 当后两位大于 20 时</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>		<span class="token comment">// 先调用 num10，输出十位数</span></pre></td></tr><tr><td data-num="66"></td><td><pre>		cout<span class="token operator">&lt;&lt;</span>num10<span class="token punctuation">[</span>b<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>		<span class="token comment">// 个位不为 0 时应输出 "-" 个位数</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">%</span><span class="token number">10</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="69"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>			cout<span class="token operator">&lt;&lt;</span><span class="token string">"\b-"</span><span class="token operator">&lt;&lt;</span>num1<span class="token punctuation">[</span>b<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="73"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="74"></td><td><pre></pre></td></tr><tr><td data-num="75"></td><td><pre><span class="token comment">// 整数翻译函数</span></pre></td></tr><tr><td data-num="76"></td><td><pre><span class="token keyword">void</span> robot<span class="token double-colon punctuation">::</span><span class="token function">tran_int</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="77"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">></span><span class="token number">1999999999</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>		cout<span class="token operator">&lt;&lt;</span><span class="token string">"dev C++平台无法处理大于1999999999位的数！"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>		<span class="token comment">// 三位三位取出，存入 abcd 中</span></pre></td></tr><tr><td data-num="85"></td><td><pre>		<span class="token keyword">int</span> a<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">1000000000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="86"></td><td><pre>			b<span class="token operator">=</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">1000000000</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="87"></td><td><pre>			c<span class="token operator">=</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="88"></td><td><pre>			d<span class="token operator">=</span>n<span class="token operator">%</span><span class="token number">1000</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>		<span class="token comment">/// 当 abcd 不等于 0 时，输出并加上 billion, million 或 thousand</span></pre></td></tr><tr><td data-num="90"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="91"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>			<span class="token function">out</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>			cout<span class="token operator">&lt;&lt;</span><span class="token string">"billion "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="96"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>			<span class="token function">out</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>			cout<span class="token operator">&lt;&lt;</span><span class="token string">"million "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="101"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>			<span class="token function">out</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>			cout<span class="token operator">&lt;&lt;</span><span class="token string">"thousand "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="106"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>			<span class="token comment">// 据英文语法规则，最后两位前一定有 and</span></pre></td></tr><tr><td data-num="108"></td><td><pre>			<span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">&lt;</span><span class="token number">100</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">!=</span><span class="token number">0</span><span class="token operator">||</span>b<span class="token operator">!=</span><span class="token number">0</span><span class="token operator">||</span>c<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>				cout<span class="token operator">&lt;&lt;</span><span class="token string">"and "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>			<span class="token function">out</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>		cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="115"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="116"></td><td><pre></pre></td></tr><tr><td data-num="117"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>	<span class="token keyword">int</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入n："</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>	cin<span class="token operator">>></span>n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span>n<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>	robot brown<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>	brown<span class="token punctuation">.</span><span class="token function">tran_int</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"><span>改良机器人类</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">robot</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token comment">// 机器人姓名</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token comment">// 机器人型号</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">char</span> type<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token comment">// 待翻译的整数</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token keyword">int</span> num<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token comment">// 指向英文字符串</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token keyword">char</span> <span class="token operator">*</span>ps<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token comment">// 构造函数</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token function">robot</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">"XXXXXX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span><span class="token string">"XXXXXX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>			ps<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>ps<span class="token punctuation">,</span><span class="token string">"zero"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token comment">// 设置修改数据</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span>charn<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>chart<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token comment">// 英文中每三位数读法相同，所以定义 out 函数翻译小于 1000 的整数</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token comment">// 将 1 至 1999999999 的整数翻译成英文句子</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">tran_int</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token comment">// 输出整数及其英文句子</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">print_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token comment">// 析构函数</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token operator">~</span><span class="token function">robot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>			<span class="token comment">// 释放构造函数和 set 函数中动态申请的空间</span></pre></td></tr><tr><td data-num="42"></td><td><pre>			<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> ps<span class="token punctuation">;</span><span class="token comment">// [] 表示 ps 指向的字符数组，整个数组都要被释放</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment">// 定义两个全局字符指针数组，存取所需的单词</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token comment">//num1 中为 1 到 19，空出了 0，所以可以直接用 num1 [n] 调用，得到 n 对应单词</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">char</span> <span class="token operator">*</span>num1<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"one "</span><span class="token punctuation">,</span><span class="token string">"two "</span><span class="token punctuation">,</span><span class="token string">"three "</span><span class="token punctuation">,</span><span class="token string">"four "</span><span class="token punctuation">,</span><span class="token string">"five "</span><span class="token punctuation">,</span><span class="token string">"six "</span><span class="token punctuation">,</span><span class="token string">"seven "</span><span class="token punctuation">,</span><span class="token string">"eight "</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		<span class="token string">"nine "</span><span class="token punctuation">,</span><span class="token string">"ten "</span><span class="token punctuation">,</span><span class="token string">"eleven "</span><span class="token punctuation">,</span><span class="token string">"twelve "</span><span class="token punctuation">,</span> <span class="token string">"thirteen "</span><span class="token punctuation">,</span><span class="token string">"fourteen "</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="52"></td><td><pre>		<span class="token string">"fifteen "</span><span class="token punctuation">,</span><span class="token string">"sixteen "</span><span class="token punctuation">,</span><span class="token string">"seventeen "</span><span class="token punctuation">,</span><span class="token string">"eighteen "</span><span class="token punctuation">,</span><span class="token string">"nineteen "</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token comment">//num10 中为 20-90，空出了 0 和 1，所以可以直接用 num10 [n/10] 调用，得到 n 对应单词</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">char</span> <span class="token operator">*</span>num10<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>		<span class="token string">""</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"twenty "</span><span class="token punctuation">,</span><span class="token string">"thirty "</span><span class="token punctuation">,</span><span class="token string">"forty "</span><span class="token punctuation">,</span><span class="token string">"fifty "</span><span class="token punctuation">,</span><span class="token string">"sixty "</span><span class="token punctuation">,</span><span class="token string">"seventy "</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="58"></td><td><pre>		<span class="token string">"eighty "</span><span class="token punctuation">,</span><span class="token string">"ninety "</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token comment">// 类外定义小于 1000 整数翻译函数</span></pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token keyword">char</span> <span class="token operator">*</span>robot<span class="token double-colon punctuation">::</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token comment">// 定义字符数组 k，长度设为 1000，用空字符串初始化，用来存储英文字符串</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	<span class="token keyword">char</span> k<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="66"></td><td><pre>	<span class="token keyword">int</span> b<span class="token operator">=</span>a<span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token comment">// 若百位不为零，输出百位数加 hundred，</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	<span class="token comment">// 若此时十位个位均为 0，不加 and</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">/</span><span class="token number">100</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>		<span class="token comment">// 不直接输出字符串，而是加入字符数组 k 中</span></pre></td></tr><tr><td data-num="72"></td><td><pre>		<span class="token function">strcat</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>num1<span class="token punctuation">[</span>a<span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>		<span class="token function">strcat</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span><span class="token string">"hundred "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span><span class="token string">"and "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token comment">// 当后两位在 20 以内时，直接调用 num1 [n]，输出</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>		<span class="token function">strcat</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>num1<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token comment">// 当后两位大于 20 时</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>		<span class="token comment">// 先调用 num10，输出十位数</span></pre></td></tr><tr><td data-num="86"></td><td><pre>		<span class="token function">strcat</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>num10<span class="token punctuation">[</span>b<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>		<span class="token comment">// 个位不为 0 时应输出 "-" 个位数</span></pre></td></tr><tr><td data-num="88"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">%</span><span class="token number">10</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="89"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span><span class="token string">"\b-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>num1<span class="token punctuation">[</span>b<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="94"></td><td><pre></pre></td></tr><tr><td data-num="95"></td><td><pre>	<span class="token comment">// 动态申请一个存储空间</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	<span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>	<span class="token comment">// 大小则根据 k 中实际字符串的长度 + 1</span></pre></td></tr><tr><td data-num="98"></td><td><pre>	<span class="token comment">// 调用完毕需要释放该空间</span></pre></td></tr><tr><td data-num="99"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	<span class="token keyword">return</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="102"></td><td><pre></pre></td></tr><tr><td data-num="103"></td><td><pre><span class="token comment">// 类外定义整数翻译函数</span></pre></td></tr><tr><td data-num="104"></td><td><pre><span class="token keyword">char</span> <span class="token operator">*</span>robot<span class="token double-colon punctuation">::</span><span class="token function">tran_int</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="105"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>	<span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">;</span> <span class="token comment">// 定义字符指针 p</span></pre></td></tr><tr><td data-num="107"></td><td><pre>	<span class="token keyword">char</span> kk<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment">// 定义字符数组 kk，用来存放被翻译出的英文字符串，初始化成空字符串</span></pre></td></tr><tr><td data-num="108"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">></span><span class="token number">1999999999</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="109"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>		<span class="token function">strcpy</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span><span class="token string">"dev C++平台无法处理太大的数！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="111"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="113"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>		<span class="token comment">// 三位三位取出，存入 abcd 中</span></pre></td></tr><tr><td data-num="115"></td><td><pre>		<span class="token keyword">int</span> a<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">1000000000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="116"></td><td><pre>			b<span class="token operator">=</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">1000000000</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="117"></td><td><pre>			c<span class="token operator">=</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="118"></td><td><pre>			d<span class="token operator">=</span>n<span class="token operator">%</span><span class="token number">1000</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>		<span class="token comment">/// 当 abcd 不等于 0 时，输出并加上 billion, million 或 thousand</span></pre></td></tr><tr><td data-num="120"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="121"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>			p<span class="token operator">=</span><span class="token function">out</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span><span class="token string">"billion "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>			<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span> <span class="token comment">// 释放在 out 函数中动态申请的空间</span></pre></td></tr><tr><td data-num="126"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="128"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="129"></td><td><pre>			p<span class="token operator">=</span><span class="token function">out</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span><span class="token string">"million "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>			<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span> <span class="token comment">// 释放在 out 函数中动态申请的空间</span></pre></td></tr><tr><td data-num="133"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="135"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>			p<span class="token operator">=</span><span class="token function">out</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span><span class="token string">"thousand "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="139"></td><td><pre>			<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span> <span class="token comment">// 释放在 out 函数中动态申请的空间</span></pre></td></tr><tr><td data-num="140"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="142"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="143"></td><td><pre>			<span class="token comment">// 据英文语法规则，最后两位前一定有 and</span></pre></td></tr><tr><td data-num="144"></td><td><pre>			<span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">&lt;</span><span class="token number">100</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">!=</span><span class="token number">0</span><span class="token operator">||</span>b<span class="token operator">!=</span><span class="token number">0</span><span class="token operator">||</span>c<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="145"></td><td><pre>				<span class="token function">strcat</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span><span class="token string">"and "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="147"></td><td><pre>			p<span class="token operator">=</span><span class="token function">out</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="148"></td><td><pre>			<span class="token function">strcat</span><span class="token punctuation">(</span>kk<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="149"></td><td><pre>			<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> p<span class="token punctuation">;</span> <span class="token comment">// 释放在 out 函数中动态申请的空间</span></pre></td></tr><tr><td data-num="150"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="151"></td><td><pre>		p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>kk<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="152"></td><td><pre>		<span class="token function">strcpy</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>kk<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="153"></td><td><pre>		<span class="token keyword">return</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="154"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="155"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="156"></td><td><pre></pre></td></tr><tr><td data-num="157"></td><td><pre><span class="token comment">// 类外定义设置函数</span></pre></td></tr><tr><td data-num="158"></td><td><pre><span class="token keyword">void</span> robot<span class="token double-colon punctuation">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">char</span> n<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">char</span> t<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> m<span class="token punctuation">)</span> <span class="token comment">// 设置修改数据</span></pre></td></tr><tr><td data-num="159"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="160"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="161"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="162"></td><td><pre></pre></td></tr><tr><td data-num="163"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span>m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="164"></td><td><pre>		<span class="token comment">// 待翻译的整数没有变</span></pre></td></tr><tr><td data-num="165"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="166"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="167"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="168"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="169"></td><td><pre>		num<span class="token operator">=</span>m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="170"></td><td><pre>		<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> ps<span class="token punctuation">;</span> <span class="token comment">// 删除已有的英文句子</span></pre></td></tr><tr><td data-num="171"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="172"></td><td><pre></pre></td></tr><tr><td data-num="173"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="174"></td><td><pre>		<span class="token keyword">char</span> <span class="token operator">*</span>tp<span class="token operator">=</span><span class="token function">tran_int</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="175"></td><td><pre>		ps<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>tp<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="176"></td><td><pre>		<span class="token function">strcpy</span><span class="token punctuation">(</span>ps<span class="token punctuation">,</span>tp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="177"></td><td><pre>		<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> tp<span class="token punctuation">;</span> <span class="token comment">// 释放在 trans_int 中动态申请的空间</span></pre></td></tr><tr><td data-num="178"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="179"></td><td><pre>	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="180"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="181"></td><td><pre>		ps<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="182"></td><td><pre>		<span class="token function">strcpy</span><span class="token punctuation">(</span>ps<span class="token punctuation">,</span><span class="token string">"zero"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="183"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="184"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="185"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="186"></td><td><pre>		ps<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="187"></td><td><pre>		<span class="token function">strcpy</span><span class="token punctuation">(</span>ps<span class="token punctuation">,</span> <span class="token string">"负数不能翻译"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="188"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="189"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="190"></td><td><pre></pre></td></tr><tr><td data-num="191"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="192"></td><td><pre>	robot brown<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="193"></td><td><pre>	brown<span class="token punctuation">.</span><span class="token function">print_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="194"></td><td><pre>	<span class="token keyword">int</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="195"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入n："</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="196"></td><td><pre>	cin<span class="token operator">>></span>n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="197"></td><td><pre>	brown<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"brown"</span><span class="token punctuation">,</span><span class="token string">"800#"</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="198"></td><td><pre>	brown<span class="token punctuation">.</span><span class="token function">print_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="199"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="200"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>存储空间的实际分配<br>当运行 <code>int n;</code> 与 <code>robot brown;</code> 后，<br>存储空间分配如下：</li></ul><figure class="highlight mermaid"><figcaption data-lang="mermaid"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">graph</span> TB</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">subgraph</span> 空间1</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">subgraph</span> 变量n</pre></td></tr><tr><td data-num="4"></td><td><pre>        n</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">subgraph</span> 对象brown</pre></td></tr><tr><td data-num="7"></td><td><pre>        name</pre></td></tr><tr><td data-num="8"></td><td><pre>        type</pre></td></tr><tr><td data-num="9"></td><td><pre>        num</pre></td></tr><tr><td data-num="10"></td><td><pre>        ps</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><ul><li><code>new</code> 运算符操作结果<br>当运行 <code>brown.set(“brown”, “800#”,n);</code> 后，<br>堆区有字符串空间被占用，具体空间分配如下：</li></ul><figure class="highlight mermaid"><figcaption data-lang="mermaid"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">graph</span> TB</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">subgraph</span> 空间1</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">subgraph</span> 变量n</pre></td></tr><tr><td data-num="4"></td><td><pre>        n</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">subgraph</span> 对象brown</pre></td></tr><tr><td data-num="7"></td><td><pre>        name</pre></td></tr><tr><td data-num="8"></td><td><pre>        type</pre></td></tr><tr><td data-num="9"></td><td><pre>        num</pre></td></tr><tr><td data-num="10"></td><td><pre>        a<span class="token text string">[ps]</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">subgraph</span> 空间2</pre></td></tr><tr><td data-num="15"></td><td><pre>    b<span class="token text string">[整数字符串占用空间]</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>a <span class="token arrow operator">--></span> b</pre></td></tr></table></figure><ul><li><p>空析构函数的实际作用<br>当析构函数为空函数时： <code>~robot() &#123; &#125;</code><br>运行 <code>return</code> 语句后， <code>空间1</code> 释放，而 <code>空间2</code> 保留</p></li><li><p>析构函数的实际作用<br>当析构函数为： <code>~robot() &#123; delete [] ps; &#125;</code><br>运行 <code>return</code> 语句后， <code>空间1</code> <code>空间2</code> 均释放</p></li></ul><h2 id="对象与指针"><a class="anchor" href="#对象与指针">#</a> 对象与指针</h2><figure class="highlight cpp"><figcaption data-lang="C++"><span>Person类的设计</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token keyword">char</span> Name<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token keyword">char</span> Sex<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token keyword">int</span> Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">char</span> Pid<span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">char</span> <span class="token operator">*</span>Addr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>Name<span class="token punctuation">,</span><span class="token string">"xxxxxxxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>			Age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			Sex <span class="token operator">=</span> <span class="token char">'x'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>Pid<span class="token punctuation">,</span><span class="token string">"xxxxxxxxxxxxxxxxxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			Addr<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>N<span class="token punctuation">,</span> <span class="token keyword">int</span> A<span class="token punctuation">,</span> <span class="token keyword">char</span> S<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>P<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>Ad<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>Name<span class="token punctuation">,</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>			Age <span class="token operator">=</span> A<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>			Sex <span class="token operator">=</span> S<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>Pid<span class="token punctuation">,</span>P<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>			<span class="token keyword">int</span> L<span class="token operator">=</span><span class="token function">strlen</span><span class="token punctuation">(</span>Ad<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>			Addr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>L<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token function">strcpy</span><span class="token punctuation">(</span>Addr<span class="token punctuation">,</span>Ad<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>			cout<span class="token operator">&lt;&lt;</span><span class="token string">"Now destroying Person"</span><span class="token operator">&lt;&lt;</span>Name<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>			<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> Addr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">Register</span><span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">char</span> sex<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>pid<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Person</span><span class="token double-colon punctuation">::</span><span class="token function">Register</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">,</span><span class="token keyword">char</span> sex<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>pid<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>addr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>Name<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	Sex <span class="token operator">=</span> sex<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>Pid<span class="token punctuation">,</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>Addr<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> Addr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token keyword">int</span> L<span class="token operator">=</span><span class="token function">strlen</span><span class="token punctuation">(</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	Addr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>L<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>Addr<span class="token punctuation">,</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Person</span><span class="token double-colon punctuation">::</span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span>Name<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>Age<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>Sex<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>Pid<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>Addr<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>		cout<span class="token operator">&lt;&lt;</span>Addr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	Person person1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	Person <span class="token function">person2</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token char">'m'</span><span class="token punctuation">,</span><span class="token string">"610103199409192839"</span><span class="token punctuation">,</span><span class="token string">"中国西安市咸宁西路29号"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	Person person3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span><span class="token string">"person1: "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	person1<span class="token punctuation">.</span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span><span class="token string">"person2: "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	person2<span class="token punctuation">.</span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	person3<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token char">'w'</span><span class="token punctuation">,</span><span class="token string">"610103198409192493"</span><span class="token punctuation">,</span><span class="token string">"中国上海市华山北路1845号"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span><span class="token string">"person3: "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	person3<span class="token punctuation">.</span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>	person2<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span><span class="token string">"赵五"</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token char">'w'</span><span class="token punctuation">,</span><span class="token string">"610103198409152127"</span><span class="token punctuation">,</span><span class="token string">"中国新疆乌鲁木齐市王家沟12号"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span><span class="token string">"person2: "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	person2<span class="token punctuation">.</span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="指向对象的指针"><a class="anchor" href="#指向对象的指针">#</a> 指向对象的指针</h3><figure class="highlight cpp"><figcaption data-lang="C++"><span>定义方式</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>类名<span class="token operator">></span> <span class="token operator">*</span><span class="token operator">&lt;</span>指针变量名表<span class="token operator">></span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"><span>例子</span></figcaption><table><tr><td data-num="1"></td><td><pre>Person <span class="token function">person1</span><span class="token punctuation">(</span><span class="token string">"Zhang3"</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token char">'f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Person <span class="token operator">*</span>ptr<span class="token operator">=</span><span class="token operator">&amp;</span>person1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>ptr<span class="token operator">-></span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="动态存储"><a class="anchor" href="#动态存储">#</a> 动态存储</h3><figure class="highlight cpp"><figcaption data-lang="C++"><span>定义方式</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>对象指针<span class="token operator">></span>＝<span class="token generic-function"><span class="token function">new</span> <span class="token generic class-name"><span class="token operator">&lt;</span>类名<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token operator">&lt;</span>名字初始化值<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">delete</span> <span class="token operator">&lt;</span>名字指针<span class="token operator">></span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"><span>例子</span></figcaption><table><tr><td data-num="1"></td><td><pre>Person <span class="token operator">*</span>p<span class="token operator">=</span><span class="token keyword">new</span> Person<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">delete</span> p<span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"><span>日期类修改</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Date</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token keyword">int</span> year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> m<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Date</span><span class="token double-colon punctuation">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> yy<span class="token punctuation">,</span><span class="token keyword">int</span> mm<span class="token punctuation">,</span><span class="token keyword">int</span> dd<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	month <span class="token operator">=</span> mm<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	year <span class="token operator">=</span> yy<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	day <span class="token operator">=</span> dd<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Date</span><span class="token double-colon punctuation">::</span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span>year<span class="token operator">&lt;&lt;</span><span class="token string">"-"</span><span class="token operator">&lt;&lt;</span>month<span class="token operator">&lt;&lt;</span><span class="token string">"-"</span><span class="token operator">&lt;&lt;</span>day<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	Date date1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	Date <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>date1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	p1<span class="token operator">-></span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">2006</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	p1<span class="token operator">-></span><span class="token function">print_ymd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">int</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token operator">&amp;</span>date1<span class="token punctuation">.</span>year<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p2 <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token keyword">void</span> <span class="token punctuation">(</span>Date<span class="token double-colon punctuation">::</span><span class="token operator">*</span>p3<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 普通函数指针定义不行</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">void</span> <span class="token punctuation">(</span>Date<span class="token double-colon punctuation">::</span><span class="token operator">*</span>p4<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	p3 <span class="token operator">=</span> Date<span class="token double-colon punctuation">::</span>init<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	p4 <span class="token operator">=</span> Date<span class="token double-colon punctuation">::</span>print_ymd<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">(</span>date1<span class="token punctuation">.</span><span class="token operator">*</span>p3<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2006</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token punctuation">(</span>date1<span class="token punctuation">.</span><span class="token operator">*</span>p4<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"><span>Person类修改</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">char</span> Name<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">char</span> Sex<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token keyword">int</span> Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token function">strcpy</span><span class="token punctuation">(</span>Name<span class="token punctuation">,</span><span class="token string">"XXX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		Age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		Sex <span class="token operator">=</span> <span class="token char">' '</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		cout<span class="token operator">&lt;&lt;</span><span class="token string">"Now destroying Person"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">Register</span><span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">char</span> sex<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">void</span> <span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Person</span><span class="token double-colon punctuation">::</span><span class="token function">Register</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">,</span><span class="token keyword">char</span> sex<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>Name<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	Sex <span class="token operator">=</span> sex<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Person</span><span class="token double-colon punctuation">::</span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	cout<span class="token operator">&lt;&lt;</span>Name<span class="token operator">&lt;&lt;</span><span class="token char">'\t'</span><span class="token operator">&lt;&lt;</span>Age<span class="token operator">&lt;&lt;</span><span class="token char">'\t'</span><span class="token operator">&lt;&lt;</span>Sex<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	Person <span class="token operator">*</span>p1<span class="token punctuation">,</span><span class="token operator">*</span>p2<span class="token punctuation">;</span> <span class="token comment">// 声明两个指向对象的指针</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	p1<span class="token operator">=</span><span class="token keyword">new</span> Person<span class="token punctuation">;</span> <span class="token comment">// 动态生成一个 Person 对象</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"person1: \t"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	p1<span class="token operator">-></span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	p1<span class="token operator">-></span><span class="token function">Register</span><span class="token punctuation">(</span><span class="token string">"Zhang3"</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token char">'m'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"person1: \t"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	p1<span class="token operator">-></span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>	p2<span class="token operator">=</span><span class="token keyword">new</span> Person<span class="token punctuation">;</span> <span class="token comment">// 动态生成一个 Person 对象</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"person2: \t"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	p2<span class="token operator">-></span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token operator">*</span>p1<span class="token punctuation">;</span> <span class="token comment">// 对象之间的赋值</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"person2: \t"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	p2<span class="token operator">-></span><span class="token function">ShowMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token keyword">delete</span> p1<span class="token punctuation">;</span> <span class="token comment">// 释放 p1 指针指向对象所占的空间</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token keyword">delete</span> p2<span class="token punctuation">;</span> <span class="token comment">// 释放 p2 指针指向对象所占的空间</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="this指针"><a class="anchor" href="#this指针">#</a> <code>this</code> 指针</h2><ul><li><p>每一个类的成员函数都包含一个指向本类对象的指针，指针名为 <code>this</code> 。</p></li><li><p>该指针指向本类对象的起始地址<br><code>this</code> 是指针， <code>*this</code> 就是对象（本对象）</p></li><li><p>访问成员<br><code>this-&gt;成员</code><br><code>(*this).成员</code><br><code>.</code> 运算符优先级比较高，故需要使用 <code>()</code></p></li></ul><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Test</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> x<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token function">Test</span><span class="token punctuation">(</span> <span class="token keyword">int</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 构造函数</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token class-name">Test</span><span class="token double-colon punctuation">::</span><span class="token function">Test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	x <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Test</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">" x = "</span> <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"this->x = "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(*this).x = "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span> <span class="token operator">*</span><span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	Test <span class="token function">testObject</span><span class="token punctuation">(</span> <span class="token number">12</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	testObject<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span><span class="token comment">// 如果在 print () 函数中增加 int x=13; 输出结果如何变化？</span></pre></td></tr></table></figure><ul><li>常用场合</li></ul><ol><li>当类中数据成员名与成员函数中的形参名相同时，用 <code>this</code> 指针加以区分</li></ol><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Time</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token keyword">int</span> hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>second<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> hour<span class="token punctuation">,</span><span class="token keyword">int</span> minute<span class="token punctuation">,</span><span class="token keyword">int</span> second<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>			<span class="token keyword">this</span><span class="token operator">-></span>hour <span class="token operator">=</span> hour<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>			<span class="token keyword">this</span><span class="token operator">-></span>minute <span class="token operator">=</span> minute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>			<span class="token keyword">this</span><span class="token operator">-></span>second <span class="token operator">=</span> second<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 两个整数为参数的构造函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">Fraction</span><span class="token double-colon punctuation">::</span><span class="token function">Fraction</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token function">set</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用成员函数</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 设置分子、分母</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Fraction</span><span class="token double-colon punctuation">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">this</span><span class="token operator">-></span>a<span class="token operator">=</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">this</span><span class="token operator">-></span>b<span class="token operator">=</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 分数相加，本类对象加 u</span></pre></td></tr><tr><td data-num="14"></td><td><pre>Fraction <span class="token class-name">Fraction</span><span class="token double-colon punctuation">::</span><span class="token function">add</span><span class="token punctuation">(</span>Fraction u<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">int</span> tmp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	Fraction v<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	v<span class="token punctuation">.</span>a<span class="token operator">=</span>a<span class="token operator">*</span>u<span class="token punctuation">.</span>b<span class="token operator">+</span>b<span class="token operator">*</span>u<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 分子</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	v<span class="token punctuation">.</span>b<span class="token operator">=</span>b<span class="token operator">*</span>u<span class="token punctuation">.</span>b<span class="token punctuation">;</span><span class="token comment">// 分母</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	tmp<span class="token operator">=</span><span class="token function">divisor</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>a <span class="token punctuation">,</span>v<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 计算分子、分母的公约数</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	v<span class="token punctuation">.</span>a<span class="token operator">=</span>v<span class="token punctuation">.</span>a<span class="token operator">/</span>tmp<span class="token punctuation">;</span><span class="token comment">// 约去公约数</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	v<span class="token punctuation">.</span>b<span class="token operator">=</span>v<span class="token punctuation">.</span>b<span class="token operator">/</span>tmp<span class="token punctuation">;</span><span class="token comment">// 约去公约数</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">return</span> v<span class="token punctuation">;</span> <span class="token comment">// 返回结果</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol start="2"><li>成员函数需要返回指针或本对象时</li></ol><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 分数相加，本类对象加 u</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Fraction <span class="token class-name">Fraction</span><span class="token double-colon punctuation">::</span><span class="token function">add</span><span class="token punctuation">(</span>Fraction u<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">int</span> tmp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// Fraction v;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	a<span class="token operator">=</span>a<span class="token operator">*</span>u<span class="token punctuation">.</span>b<span class="token operator">+</span>b<span class="token operator">*</span>u<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 分子</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	b<span class="token operator">=</span>b<span class="token operator">*</span>u<span class="token punctuation">.</span>b<span class="token punctuation">;</span><span class="token comment">// 分母</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	tmp<span class="token operator">=</span><span class="token function">divisor</span><span class="token punctuation">(</span>a <span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 计算分子、分母的公约数</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	a<span class="token operator">=</span>a<span class="token operator">/</span>tmp<span class="token punctuation">;</span><span class="token comment">// 约去公约数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	b<span class="token operator">=</span>b<span class="token operator">/</span>tmp<span class="token punctuation">;</span><span class="token comment">// 约去公约数</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 返回结果</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h1 id="课堂讨论"><a class="anchor" href="#课堂讨论">#</a> 课堂讨论</h1><ol><li>如何通过指针访问对象数组的元素的成员。<br>如<figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>PERSON   Beijing<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>PERSON     <span class="token operator">*</span>p<span class="token operator">=</span>Beijing<span class="token punctuation">;</span></pre></td></tr></table></figure>如何通过 <code>p</code> 访问第 <code>i</code> 个对象的成员，如 <code>show()</code> , <code>set(char *name,char *gender, int age)</code> 等公有成员。</li></ol><blockquote><p><code>p</code> 是指针， <code>p+i</code> 也是指针。指针指向 <code>-&gt;</code><br><code>*p</code> 是对象， <code>*(p+i)</code> 也是对象，对象用访问 <code>.</code></p></blockquote><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>p<span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ；</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">(</span>p<span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>；</pre></td></tr></table></figure><ol start="2"><li>指向类中成员函数的指针如何定义？它与一般函数指针定义的区别是什么？</li></ol><blockquote><p>一般函数指针的调用与类中的静态成员函数并无区别。因为类的静态成员不属于任何对象。 但与类的非静态成员函数指针有区别。因为类的非静态成员函数中有一个隐形的 this 指针，使得其与一般函数指针不兼容。并且类与类之间的 this 指针也是不一样的，也就是指向不同类的非静态成员函数指针间也是不兼容的。因而需要指出非静态成员函数指针所属的类，即在指针前需要加上参数名，表示指针是指向某一类的非静态成员函数。</p></blockquote><ol start="3"><li>this 指针与对象指针的区别是什么？this 指针的用途？</li></ol><blockquote><ul><li><p>this 指针：在每一个成员函数中都包含一个特殊的指针，这个 this 指针的名字是固定的，称为 this。它是指向本类对象的指针，它的值是当前被调用的成员函数所在的对象的起始地址。<br>一个对象的 this 指针并不是对象本身的一部分，不会影响对象的结果。this 作用域是在类内部，编译器自动将对象本身的地址作为一个隐含参数传递给函数。也就是说，即使你没有写上 this 指针，编译器在编译的时候也是加上 this 的，它作为非静态成员函数的隐含形参，对各成员的访问均通过 this 进行。</p></li><li><p>对象指针：指存放对象初始地址的指针变量。它包括</p></li></ul><ol><li>指向对象的指针（如 <code>int *p1;//定义指向整型数据的指针变量</code> ）</li><li>类成员指针，又分为数据成员指针（ <code>类名::*指针变量名=成员地址初值</code> ，如 <code>Date::*p=d;</code> ）和成员函数指针（ <code>函数返回类型 类名::*指针变量名 函数参数</code> ，如 <code>void (*pf)(char a, const char *b);</code> ）</li></ol></blockquote><blockquote><ul><li>this 指针与对象指针的区别：this 指针在一般的成员函数内会有，且名字固定，它的值是当前调用该成员函数的对象的地址；对象指针是指向对象的。</li><li>this 指针的用途：当参数有跟该对象里的成员变量重名的时候，可以用 this 指针来解决变量重名带来的问题。</li></ul></blockquote><h1 id="随堂练习"><a class="anchor" href="#随堂练习">#</a> 随堂练习</h1><ol><li class="quiz"><p>下面关于构造函数的叙述，正确的是 <span class="gap"></span> 。</p><ul class="options"><li>构造函数不能重载</li><li>构造函数只能定义为无参函数</li><li>构造函数只能定义为有参函数</li><li class="correct">构造函数能重载</li></ul></li><li class="quiz true"><p>构造函数名必须与类名相同。</p></li><li class="quiz true"><p>构造函数由系统自动调用运行。</p></li><li class="quiz"><p>下面关于析构函数的叙述，正确的是 <span class="gap"></span> 。</p><ul class="options"><li class="correct">析构函数必须是无参函数</li><li>析构函数可以是有参函数</li><li>析构函数能够返回函数值</li><li>析构函数不是系统自动调用</li></ul></li><li class="quiz false"><p>析构函数名与类名相同。</p></li><li class="quiz multi"><p><code>p</code> 是指向 <code>PERSON</code> 类对象的指针，则通过 <code>p</code> 访问公有成员函数 <code>show()</code> 的方法是。</p><ul class="options"><li><code>p.show();</code></li><li class="correct"><code>p-&gt;show();</code></li><li class="correct"><code>(*p).show();</code></li><li><code>(*p)-&gt;show();</code></li></ul></li><li class="quiz false"><p>this 指针需要事先声明，才能使用。</p></li></ol><div class="tags"><a href="/tags/C/" rel="tag"><i class="ic i-tag"></i> C++</a></div></div><footer><div class="meta"><span id="computer-science/cpp/course-1/week-10/" class="item leancloud_visitors" data-flag-title="第 10 周 数据的抽象与封装：类与对象 2" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Ruri Shimotsuki 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Ruri Shimotsuki 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Ruri Shimotsuki 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Ruri Shimotsuki <i class="ic i-at"><em>@</em></i>優萌初華</li><li class="link"><strong>本文链接：</strong> <a href="https://shoka.lostyu.me/computer-science/cpp/course-1/week-10/" title="第 10 周 数据的抽象与封装：类与对象 2">https://shoka.lostyu.me/computer-science/cpp/course-1/week-10/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/cpp/course-1/week-9/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;daee0852e8584814639c1cdd5f5b1ed4.jpg" title="第09周 数据的抽象与封装：类与对象1"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 计算机程序设计（C++）- 西安交通大学</span><h3>第09周 数据的抽象与封装：类与对象1</h3></a></div><div class="item right"><a href="/computer-science/cpp/course-1/week-11/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;d58690e851a8e0b07e74ff007eb98c44.jpg" title="第11周 取其精华 发挥优势：继承"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 计算机程序设计（C++）- 西安交通大学</span><h3>第11周 取其精华 发挥优势：继承</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">课堂笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.</span> <span class="toc-text">构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E6%97%A0%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.1.</span> <span class="toc-text">有无构造函数的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%BD%BD%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">重载构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90%E6%97%A5%E6%9C%9F%E7%B1%BB%E4%B8%AD4%E4%B8%AA%E9%87%8D%E8%BD%BD%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">例子：日期类中 4 个重载构造函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">析构函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">1.3.1.</span> <span class="toc-text">对象的存储空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.2.</span> <span class="toc-text">定义方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E6%84%8F%E4%B9%89%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.3.</span> <span class="toc-text">实际意义的析构函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%8C%87%E9%92%88"><span class="toc-number">1.4.</span> <span class="toc-text">对象与指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-number">1.4.1.</span> <span class="toc-text">指向对象的指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%AD%98%E5%82%A8"><span class="toc-number">1.4.2.</span> <span class="toc-text">动态存储</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this%E6%8C%87%E9%92%88"><span class="toc-number">1.5.</span> <span class="toc-text">this 指针</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%BE%E5%A0%82%E8%AE%A8%E8%AE%BA"><span class="toc-number">2.</span> <span class="toc-text">课堂讨论</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9A%8F%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">3.</span> <span class="toc-text">随堂练习</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/computer-science/cpp/course-1/week-1/" rel="bookmark" title="第01周 程序设计与C++概述">第01周 程序设计与C++概述</a></li><li><a href="/computer-science/cpp/course-1/week-2/" rel="bookmark" title="第02周 简单信息的表示和基本运算">第02周 简单信息的表示和基本运算</a></li><li><a href="/computer-science/cpp/course-1/week-3/" rel="bookmark" title="第03周 运算的流程控制">第03周 运算的流程控制</a></li><li><a href="/computer-science/cpp/course-1/week-4/" rel="bookmark" title="第04周 复杂信息的表达与处理">第04周 复杂信息的表达与处理</a></li><li><a href="/computer-science/cpp/course-1/week-5/" rel="bookmark" title="第05周 问题的模块化求解">第05周 问题的模块化求解</a></li><li><a href="/computer-science/cpp/course-1/week-6/" rel="bookmark" title="第06周 问题的模块化求解2：特殊函数">第06周 问题的模块化求解2：特殊函数</a></li><li><a href="/computer-science/cpp/course-1/week-7/" rel="bookmark" title="第07周 按址操作1：指针、变量和函数">第07周 按址操作1：指针、变量和函数</a></li><li><a href="/computer-science/cpp/course-1/week-8/" rel="bookmark" title="第08周 按址操作2：指针与数组、字符串、结构体，动态数组">第08周 按址操作2：指针与数组、字符串、结构体，动态数组</a></li><li class="active"><a href="/computer-science/cpp/course-1/week-10/" rel="bookmark" title="第10周 数据的抽象与封装：类与对象2">第10周 数据的抽象与封装：类与对象2</a></li><li><a href="/computer-science/cpp/course-1/week-9/" rel="bookmark" title="第09周 数据的抽象与封装：类与对象1">第09周 数据的抽象与封装：类与对象1</a></li><li><a href="/computer-science/cpp/course-1/week-11/" rel="bookmark" title="第11周 取其精华 发挥优势：继承">第11周 取其精华 发挥优势：继承</a></li><li><a href="/computer-science/cpp/course-1/week-12/" rel="bookmark" title="第12周 统一接口 不同实现：多态性">第12周 统一接口 不同实现：多态性</a></li><li><a href="/computer-science/cpp/course-1/week-13/" rel="bookmark" title="第13周 标准输入输出与文件操作">第13周 标准输入输出与文件操作</a></li><li><a href="/computer-science/cpp/course-1/week-14/" rel="bookmark" title="第14周 模板和标准模板库简介">第14周 模板和标准模板库简介</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Ruri Shimotsuki" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Ruri Shimotsuki</p><div class="description" itemprop="description">琉璃的医学 & 编程笔记</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">303</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">68</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">73</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWU=" title="https:&#x2F;&#x2F;github.com&#x2F;amehime"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9hbWVoaW1l" title="https:&#x2F;&#x2F;twitter.com&#x2F;amehime"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9hbWVoaW1l" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;amehime"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTEyODg2ODIz" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;12886823"><i class="ic i-cloud-music"></i></span> <span class="exturl item telegram" data-url="aHR0cHM6Ly90Lm1lL2FtZWhpbWU=" title="https:&#x2F;&#x2F;t.me&#x2F;amehime"><i class="ic i-paper-plane"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS9hbWVoaW1l" title="https:&#x2F;&#x2F;about.me&#x2F;amehime"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a><ul class="submenu"><li class="item"><a href="/about/yume" rel="section"><i class="ic i-cloud"></i>自设</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-magic"></i>链环</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item"><a href="/webstack/" rel="section"><i class="ic i-star"></i>网址</a></li></ul></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly90cmF2ZWxsaW5ncy5saW5r"><i class="ic i-paper-plane"></i>开往</span></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/cpp/course-1/week-9/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/cpp/course-1/week-11/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="分类于 Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmd-515/" title="分类于 ITMD 515. Advanced Software Programming">ITMD 515. Advanced Software Programming</a></div><span><a href="/computer-science/mse/itmd-515/lab-3/" title="Lab 3. Junit, JDBC and Bean Validation">Lab 3. Junit, JDBC and Bean Validation</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="分类于 Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmd-522/" title="分类于 ITMD 522. Data Mining and Machine Learning">ITMD 522. Data Mining and Machine Learning</a></div><span><a href="/computer-science/mse/itmd-522/lecture-9/" title="Lecture 9. Data Manipulation with Pandas">Lecture 9. Data Manipulation with Pandas</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="分类于 Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmd-514/" title="分类于 ITMD 514. Programming for Data Analytics">ITMD 514. Programming for Data Analytics</a></div><span><a href="/computer-science/mse/itmd-514/lab-4/" title="Lab 4">Lab 4</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="分类于 Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmd-565/" title="分类于 ITMM 565. Rich Internet Applications">ITMM 565. Rich Internet Applications</a></div><span><a href="/computer-science/mse/itmd-565/lecture-7/" title="Lecture 7. HTML5 APIs - Storage">Lecture 7. HTML5 APIs - Storage</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="分类于 Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmd-565/" title="分类于 ITMM 565. Rich Internet Applications">ITMM 565. Rich Internet Applications</a></div><span><a href="/computer-science/mse/itmd-565/lecture-8/" title="Lecture 8. HTML5 APIs - Canvas">Lecture 8. HTML5 APIs - Canvas</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/course-2/" title="分类于 面向对象程序设计 - Java 语言 - 浙江大学 - 翁恺">面向对象程序设计 - Java 语言 - 浙江大学 - 翁恺</a></div><span><a href="/computer-science/java/course-2/week-8/" title="第8周 异常处理与输入输出">第8周 异常处理与输入输出</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="分类于 Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmm-571/" title="分类于 ITMM 571. Project Management">ITMM 571. Project Management</a></div><span><a href="/computer-science/mse/itmm-571/lecture-1/" title="Lecture 1. Understanding Project Management Basics">Lecture 1. Understanding Project Management Basics</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/clinical-medicine/" title="分类于 临床医学">临床医学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiovascular/" title="分类于 心血管病学">心血管病学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiovascular/echocardiography/" title="分类于 超声心动图">超声心动图</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiovascular/echocardiography/valves/" title="分类于 第二阶段 Valves">第二阶段 Valves</a></div><span><a href="/clinical-medicine/cardiovascular/echocardiography/valves/course-5/" title="05. Pulmonary Valve and Echocardiographic Assessment 肺动脉瓣超声评估">05. Pulmonary Valve and Echocardiographic Assessment 肺动脉瓣超声评估</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/clinical-medicine/" title="分类于 临床医学">临床医学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiovascular/" title="分类于 心血管病学">心血管病学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiovascular/echocardiography/" title="分类于 超声心动图">超声心动图</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiovascular/echocardiography/basics/" title="分类于 第一阶段 Basics">第一阶段 Basics</a></div><span><a href="/clinical-medicine/cardiovascular/echocardiography/basics/mcq-1/" title="MCQ Seminar 1">MCQ Seminar 1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/certificate/" title="分类于 证书">证书</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/certificate/pmp/" title="分类于 项目管理">项目管理</a></div><span><a href="/computer-science/certificate/pmp/chapter-9/" title="第9章 项目资源管理">第9章 项目资源管理</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Ruri Shimotsuki @ Yume Shoka</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">3.4m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">51:02</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/cpp/course-1/week-10/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,mermaid:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',quiz:{choice:"单选题",multiple:"多选题",true_false:"判断题",essay:"问答题",gap_fill:"填空题",mistake:"错题备注"},ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?60ab4a51924a588bb4d810652c9412f1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>