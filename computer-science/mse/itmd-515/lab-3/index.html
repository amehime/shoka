<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="有夢書架" href="https://shoka.lostyu.me/rss.xml"><link rel="alternate" type="application/atom+xml" title="有夢書架" href="https://shoka.lostyu.me/atom.xml"><link rel="alternate" type="application/json" title="有夢書架" href="https://shoka.lostyu.me/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Java,Database,JDBC"><link rel="canonical" href="https://shoka.lostyu.me/computer-science/mse/itmd-515/lab-3/"><meta name="description" content="# Notes # JDBC # Using  PreparedStatement PreparedStatement  is a subclass of Statement that allows you to pass arguments to a precompiled SQL statement. double value &#x3D; 100_000.00;String query &#x3D; &quot;SELE"><meta property="og:type" content="article"><meta property="og:title" content="Lab 3. Junit, JDBC and Bean Validation"><meta property="og:url" content="https://shoka.lostyu.me/computer-science/mse/itmd-515/lab-3/"><meta property="og:site_name" content="有夢書架"><meta property="og:description" content="# Notes # JDBC # Using  PreparedStatement PreparedStatement  is a subclass of Statement that allows you to pass arguments to a precompiled SQL statement. double value &#x3D; 100_000.00;String query &#x3D; &quot;SELE"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://i.loli.net/2021/02/06/tFn4ZXVAzpQ7WMr.jpg"><meta property="og:image" content="https://i.loli.net/2021/02/06/S96DsZIu3TF2yMq.png"><meta property="og:image" content="https://i.loli.net/2021/02/06/Ir4MbKu1U3RGnmH.png"><meta property="og:image" content="https://i.loli.net/2021/02/06/djQRTNWxChPgMmo.png"><meta property="article:published_time" content="2021-02-06T06:26:05.000Z"><meta property="article:modified_time" content="2021-02-06T06:26:05.000Z"><meta property="article:author" content="Ruri Shimotsuki"><meta property="article:tag" content="Java"><meta property="article:tag" content="Database"><meta property="article:tag" content="JDBC"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://i.loli.net/2021/02/06/tFn4ZXVAzpQ7WMr.jpg"><meta name="twitter:creator" content="@amehime"><title>Lab 3. Junit, JDBC and Bean Validation - ITMD 515. Advanced Software Programming - Master of Software Engineering - 计算机科学 | Yume Shoka = 有夢書架 = 吾乃天，壶中之天</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Lab 3. Junit, JDBC and Bean Validation</h1><div class="meta"><span class="item" title="Created: 2021-02-06 14:26:05"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2021-02-06T14:26:05+08:00">2021-02-06</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>20k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>18 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/252916b13cdf9428f497f9c3da8b2aa7.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/4185e9897c68528ee5460c9dfcdf23d9.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/d6ac20b715622e2d46f27dc717ab9484.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/536315e4defca264dab1b39dc99bb2dc.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/ccb0052481047ba79b4121da73ca7e5e.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/49bee8cf2d93684cad9a1acc8bc17d8a.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="In 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/mse/" itemprop="item" rel="index" title="In Master of Software Engineering"><span itemprop="name">Master of Software Engineering</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/mse/itmd-515/" itemprop="item" rel="index" title="In ITMD 515. Advanced Software Programming"><span itemprop="name">ITMD 515. Advanced Software Programming</span></a><meta itemprop="position" content="3"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="https://shoka.lostyu.me/computer-science/mse/itmd-515/lab-3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Ruri Shimotsuki"><meta itemprop="description" content="吾乃天，壶中之天, 琉璃的医学 & 编程笔记"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="有夢書架"></span><div class="body md" itemprop="articleBody"><h1 id="notes"><a class="anchor" href="#notes">#</a> Notes</h1><h2 id="jdbc"><a class="anchor" href="#jdbc">#</a> JDBC</h2><h3 id="using-preparedstatement"><a class="anchor" href="#using-preparedstatement">#</a> Using <code>PreparedStatement</code></h3><p><code>PreparedStatement</code> is a subclass of Statement that allows you to pass arguments to a precompiled SQL statement.</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">100_000.00</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">String</span> query <span class="token operator">=</span> <span class="token string">"SELECT * FROM Employee WHERE Salary > ?"</span><span class="token punctuation">;</span> <span class="token comment">// Parameter for substitution</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">PreparedStatement</span> pStmt <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>pStmt<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Substitutes value for the first parameter in the prepared statement.</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> pStmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><blockquote><ul><li>In this code fragment, a prepared statement returns all columns of all rows whose salary is greater than $100,000.</li><li><code>PreparedStatement</code> is useful when you have a SQL statements that you are going to execute multiple times.</li></ul></blockquote><h4 id="situation"><a class="anchor" href="#situation">#</a> Situation</h4><ul><li>You are repeatedly executing query or update where format stays consistent, but values change<br>您正在重复执行查询或更新，格式保持一致，但值改变的地方</li><li>You can make a parameterized query or update, then pass in values for the placeholders<br>您可以进行参数化查询或更新，然后传递占位符的值</li></ul><h4 id="advantages"><a class="anchor" href="#advantages">#</a> Advantages</h4><ul><li>More convenient than string concatenation<br>比字符串连接更方便</li><li>Significantly faster with most drivers and databases<br>在大多数驱动程序和数据库下，速度显著提高</li><li>If values contain user data, much less susceptible to SQL injection attacks<br>如果值为用户输入，则更不容易受到 SQL 注入攻击</li></ul><p><img data-src="https://i.loli.net/2021/02/06/tFn4ZXVAzpQ7WMr.jpg" alt="" title="SQL Injection - from Randall Munroe and xkcd.com"></p><h3 id="using-callablestatement"><a class="anchor" href="#using-callablestatement">#</a> Using <code>CallableStatement</code></h3><p>A <code>CallableStatement</code> allows non-SQL statements (such as stored procedures) to be executed against the database.</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">CallableStatement</span> cStmt <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareCall</span><span class="token punctuation">(</span><span class="token string">"&#123;CALL EmplAgeCount (?, ?)&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>cStmt<span class="token punctuation">.</span>setInt <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// The IN parameter is passed in to the stored procedure.</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> cStmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>cStmt<span class="token punctuation">.</span><span class="token function">registerOutParameter</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">Types</span><span class="token punctuation">.</span><span class="token constant">INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">boolean</span> result <span class="token operator">=</span> cStmt<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">int</span> count <span class="token operator">=</span> cStmt<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// The OUT parameter is returned from the stored procedure.</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"There are "</span> <span class="token operator">+</span> count <span class="token operator">+</span></pre></td></tr><tr><td data-num="9"></td><td><pre>                    <span class="token string">" Employees over the age of "</span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><blockquote><ul><li>Stored procedures are executed on the database.</li></ul></blockquote><h3 id="transaction-事务"><a class="anchor" href="#transaction-事务">#</a> Transaction 事务</h3><h4 id="what-is-a-transaction"><a class="anchor" href="#what-is-a-transaction">#</a> What is a Transaction?</h4><ul><li><p>A transaction is a mechanism to handle groups of operations as though they were one.<br>事务是一种处理一组操作的机制。</p></li><li><p>Either all operations in a transaction occur or none occur at all.<br>事务中的所有操作都发生了，或者根本没有发生。</p></li><li><p>The operations involved in a transaction might rely on one or more databases.<br>事务中涉及的操作可能依赖于一个或多个数据库。</p></li></ul><h4 id="acid-properties-of-a-transaction-事务的acid属性"><a class="anchor" href="#acid-properties-of-a-transaction-事务的acid属性">#</a> ACID Properties of a Transaction 事务的 ACID 属性</h4><p>A transaction is formally defined by the set of properties that is known by the acronym ACID.<br>事务由 ACID 属性集定义。</p><dl><dt>Atomicity 原子性</dt><dd>A transaction is done or undone completely. In the event of a failure, all operations and procedures are undone, and all data rolls back to its previous state.<br>事务全部完成或全部撤消。发生故障时，所有操作和过程都将被撤消，并且所有数据都会回滚到以前的状态。</dd><dt>Consistency 一致性</dt><dd>A transaction transforms a system from one consistent state to another consistent state.<br>事务将系统从一个一致状态转换为另一个一致状态。</dd><dt>Isolation 隔离性</dt><dd>Each transaction occurs independently of other transactions that occur at the same time.<br>同时发生的事务相互独立。</dd><dt>Durability 耐久性</dt><dd>Completed transactions remain permanent,even during system failure.<br>即使在系统故障期间，已完成的事务也将保持永久不变。</dd></dl><p><img data-src="https://i.loli.net/2021/02/06/S96DsZIu3TF2yMq.png" alt="" title="Transferring Without Transactions"></p><p>A - Successful transfer<br>B - Unsuccessful transfer (Accounts are left in an inconsistent state.)</p><p><img data-src="https://i.loli.net/2021/02/06/Ir4MbKu1U3RGnmH.png" alt="" title="Successful Transfer with Transactions"><br>A - Changes within a transaction are buffered.<br>B - If a transfer is successful, changes are committed (made permanent).</p><p><img data-src="https://i.loli.net/2021/02/06/djQRTNWxChPgMmo.png" alt="" title="Unsuccessful Transfer with Transactions"><br>A - Changes within a transaction are buffered.<br>B - If a problem occurs, the transaction is rolled back to the previous consistent state.</p><h4 id="jdbc-transactions"><a class="anchor" href="#jdbc-transactions">#</a> JDBC Transactions</h4><p>By default, when a <code>Connection</code> is created, it is in auto-commit mode.</p><ul><li>Each individual SQL statement is treated as a transaction and automatically committed after it is executed.</li><li>To group two or more statements together, you must disable auto-commit mode.<br><code>con.setAutoCommit (false);</code></li><li>You must explicitly call the commit method to complete the transaction with the database.<br><code>con.commit();</code></li><li>You can also programmatically roll back transactions in the event of a failure.<br><code>con.rollback();</code></li></ul><h2 id="bean-validation"><a class="anchor" href="#bean-validation">#</a> Bean Validation</h2><ul><li>Bean Validation 1.1 in Java EE 7</li><li>Bean Validation 2.0 in Jakarta EE 8</li><li><span class="exturl" data-url="aHR0cHM6Ly9qYXZhZWUuZ2l0aHViLmlvL2phdmFlZS1zcGVjL2phdmFkb2NzL2phdmF4L3ZhbGlkYXRpb24vcGFja2FnZS1zdW1tYXJ5Lmh0bWw=">javax.validation</span> package</li><li><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmpib3NzLm9yZy9oaWJlcm5hdGUvc3RhYmxlL3ZhbGlkYXRvci9yZWZlcmVuY2UvZW4tVVMvaHRtbF9zaW5nbGUv">Hibernate Validator</span><ul><li>Custom Validation in all layers vs Standard Validation in Domain Model</li></ul></li><li><span class="exturl" data-url="aHR0cDovL2hpYmVybmF0ZS5vcmcvdmFsaWRhdG9yL2RvY3VtZW50YXRpb24vZ2V0dGluZy1zdGFydGVkLw==">Getting Starting with Bean Validation</span><ul><li>Maven Coordinates</li><li>Junit<ul><li>Where to place Validator?</li><li><span class="exturl" data-url="aHR0cHM6Ly9qYXZhZWUuZ2l0aHViLmlvL2phdmFlZS1zcGVjL2phdmFkb2NzL2luZGV4Lmh0bWw/amF2YXgvdmFsaWRhdGlvbi9jb25zdHJhaW50cy9wYWNrYWdlLXN1bW1hcnkuaHRtbA==">Jakarta EE 8 API Docs</span></li></ul></li></ul></li></ul><figure class="highlight xml"><figcaption data-lang="XML"><span>Project Files/pom.xml</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>7.0.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.glassfish<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jakarta.el<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hibernate-validator-cdi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>7.0.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><h3 id="built-in-constraints-11"><a class="anchor" href="#built-in-constraints-11">#</a> Built-In Constraints - 1.1</h3><table><thead><tr><th>Constraint</th><th>Accepted Types</th><th>Description</th></tr></thead><tbody><tr><td><p>AssertFalse<br>AssertTrue</p></td><td><p>Boolean, boolean</p></td><td><p>The annotated element must be either false or true</p></td></tr><tr><td><p>DecimalMax<br>DecimalMin</p></td><td><p>BigDecimal, BigInteger, CharSequence, byte, short, int, long, and respective wrappers</p></td><td><p>The element must be greater or lower than the specified value</p></td></tr><tr><td><p>Future<br>Past</p></td><td><p>Calendar, Date</p></td><td><p>The annotated element must be a date in the future or in the past</p></td></tr><tr><td><p>Max<br>Min</p></td><td><p>BigDecimal, BigInteger, byte, short, int, long, and their wrappers</p></td><td><p>The element must be greater or lower than the specified value</p></td></tr><tr><td><p>Null<br>NotNull</p></td><td><p>Object</p></td><td><p>The annotated element must be null or not</p></td></tr><tr><td>Pattern</td><td>CharSequence</td><td>The element must match the specified regular expression</td></tr><tr><td>Digits</td><td>BigDecimal, BigInteger, CharSequence, byte, short, int, long, and respective wrappers</td><td>The annotated element must be a number within accepted range</td></tr><tr><td>Size</td><td>Object[], CharSequence, Collection&lt;?&gt;, Map&lt;?, ?&gt;</td><td>The element size must be between the specified boundaries</td></tr></tbody></table><h3 id="new-constraints-20"><a class="anchor" href="#new-constraints-20">#</a> New Constraints - 2.0</h3><table><thead><tr><th>Constraint</th><th>Accepted Types</th><th>Description</th></tr></thead><tbody><tr><td>Email</td><td>CharSequence</td><td>Checks whether the specified character sequence is a valid email address</td></tr><tr><td>NotEmpty</td><td>CharSequence, Collection, Map and arrays</td><td>Checks whether the annotated element is not null nor empty</td></tr><tr><td>NotBlank</td><td>CharSequence</td><td>Checks that the annotated character sequence is not null and the trimmed length is greater than 0. The difference to @NotEmpty is that this constraint can only be applied on character sequences and that trailing white-spaces are ignored.</td></tr><tr><td><p>Positive<br>Negative</p></td><td><p>BigDecimal, BigInteger, byte, short, int, long and the respective wrappers of the primitive types</p></td><td><p>Checks if the element is strictly positive/negative. Zero values are considered invalid.</p></td></tr><tr><td><p>PositiveOrZero<br>NegativeOrZero</p></td><td><p>BigDecimal, BigInteger, byte, short, int, long and the respective wrappers of the primitive types</p></td><td><p>Checks if the element is positive/negative or zero.</p></td></tr><tr><td><p>PastOrPresent<br>FutureOrPresent</p></td><td><p>java.util.Date, java.util.Calendar, java.time.*</p></td><td><p>Checks whether the annotated date is in the present or in the past/future.</p></td></tr></tbody></table><h2 id="testing"><a class="anchor" href="#testing">#</a> Testing</h2><ul><li><span class="exturl" data-url="aHR0cHM6Ly9tYXZlbi5hcGFjaGUub3JnL2d1aWRlcy9pbnRyb2R1Y3Rpb24vaW50cm9kdWN0aW9uLXRvLXRoZS1saWZlY3ljbGVodG1sI0J1aWxkX0xpZmVjeWNsZV9CYXNpY3M=">Maven</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuanJlYmVsLmNvbS9ibG9nL3VuaXQtdGVzdGluZy1jbG91ZGFwcGxpY2F0aW9ucy1pbi1qYXZh">Unit Tests vs Integration Tests</span><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuanJlYmVsLmNvbS9ibG9nL3VuaXQtdGVzdGluZy1pbi1qYXZh">Unit == Maven Surefire Plugin</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuanJlYmVsLmNvbS9ibG9nL2hvdy10by11c2UtamF2YWludGVncmF0aW9uLXRlc3Rpbmc=">Integration == Maven Failsafe Plugin</span></li></ul></li></ul><h1 id="lab"><a class="anchor" href="#lab">#</a> Lab</h1><h2 id="summary"><a class="anchor" href="#summary">#</a> Summary</h2><p>The purpose of this assignment is to refresh on the basics of JDBC, learn the basics of Bean Validation, and to practice these techniques using JUnit test cases.</p><h2 id="requirements"><a class="anchor" href="#requirements">#</a> Requirements</h2><h3 id="database-setup"><a class="anchor" href="#database-setup">#</a> Database Setup</h3><p>No custom database for this lab - but you must pick one of the sample databases to work with.  You must grant access to the sample database for your itmd4515 user (see Lab 2 - Setup and Introductory Webapp).</p><p>Some MySQL sample databases were installed for you during Week 1.  Here are some links to other MySQL sample databases:</p><ol><li><span class="exturl" data-url="aHR0cHM6Ly9kZXYubXlzcWwuY29tL2RvYy9pbmRleC1vdGhlci5odG1s">mysql</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xlcm9jaGEvY2hpbm9vay1kYXRhYmFzZQ==">chinook</span></li></ol><details><summary>Process</summary><div><p>导入方法：</p><ul><li>方法 1：Workbench<br><code>File</code> - <code>Open SQL Script</code> ，选择 <code>world.sql</code> 文件打开，内容全选后，按 <code>Execute</code></li><li>方法 2：终端打开 <code>sakila-db</code> 目录<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span> sakila-schema.sql</pre></td></tr><tr><td data-num="2"></td><td><pre>mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span> sakila-data.sql</pre></td></tr></table></figure>或者下载 <code>Chinook_Mysql_AutoIncrementPKs.sql</code> 大样本数据<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span> Chinook_Mysql_AutoIncrementPKs.sql</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">wc</span> <span class="token parameter variable">-l</span> Chinook_Mysql_AutoIncrementPKs.sql</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">grep</span> <span class="token parameter variable">-i</span> insert Chinook_Mysql_AutoIncrementPKs.sql</pre></td></tr></table></figure></li></ul><p>回到 Workbench，给 itmd 账号添加数据库权限， <code>Administration</code> - <code>Users and Privileges</code> ，记得 <code>information_schema</code> 需要 <code>SELECT</code> 权限。</p></div></details><h3 id="project-setup"><a class="anchor" href="#project-setup">#</a> Project Setup</h3><p>Create a <strong>Java with Maven Java Application</strong> project in NetBeans with the following coordinates and configuration:</p><ol><li>Project Name: <strong>uid-lab3</strong></li><li>Artifact ID: <strong>uid-lab3</strong> (default is fine)</li><li>Group ID: <strong>edu.itmd4515.uid</strong></li><li>Version: <strong>1.0-SNAPSHOT</strong> (default is fine)</li><li>Use a base package for your Java code of <strong>edu.itmd4515.uid</strong></li></ol><p>Accept the Lab 3 assignment to create your GitHub repository and configure your projects for source control as documented in Lab 2 - Setup and Introductory Webapp.</p><p>Note, this is a <strong>Java SE</strong> application.  It is <em><strong>not</strong></em> a web application.</p><blockquote><p>Deviating from the package convention given above will mean that you can not benefit from Sonar and other automated tools, and I will not be able to fix this. Please follow the specification!</p></blockquote><details><summary>Process</summary><div><ol><li><p><code>Projects/Source Packages</code> 里创建一个新 Java class <code>Driver.java</code></p></li><li><p>Shell 查看某个数据库，选择某个数据库，按某个字段排列</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mysql <span class="token parameter variable">-u</span> itmd4515 <span class="token parameter variable">-p</span></pre></td></tr><tr><td data-num="2"></td><td><pre>show databases<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>use world<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>show tables<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>desc country<span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p><code>Projects/Dependencies</code> - <code>Add Dependency</code><br>Query <code>mysql-connector-java</code><br>or<br>groupId: <code>mysql</code> ,<br>artifactId: <code>mysql-connector-java</code> ,<br>version: <code>8.0.23</code><br><code>Build with Dependencies</code></p></li><li><p>edit <code>Projects/Project Files/pom.xml</code> , add <code>&lt;scope&gt;compile&lt;/scope&gt;</code></p></li></ol><figure class="highlight java"><figcaption data-lang="java"><span>Driver.java</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>logging<span class="token punctuation">.</span></span><span class="token class-name">Level</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>logging<span class="token punctuation">.</span></span><span class="token class-name">Logger</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="10"></td><td><pre> *</pre></td></tr><tr><td data-num="11"></td><td><pre> * @author amehime</pre></td></tr><tr><td data-num="12"></td><td><pre> */</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Driver</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> <span class="token constant">LOG</span> <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Driver</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    </pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/world?zeroDateTimeBehavior=CONVERT_TO_NULL"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">"itmd4515"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">"itmd4515"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token class-name">String</span> query <span class="token operator">=</span> <span class="token string">"select * from country where Code = ?"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> c <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>                <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            </pre></td></tr><tr><td data-num="26"></td><td><pre>            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"MEX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>                <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"data from database: "</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token comment">// prepared statement protects some against SQL Injection</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"drop table country;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token class-name">ResultSet</span> rs2 <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span>rs2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>                <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"data from database: "</span> <span class="token operator">+</span> rs2<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            </pre></td></tr><tr><td data-num="40"></td><td><pre>            rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            rs2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            </pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>            <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span><span class="token constant">SEVERE</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></div></details><h3 id="project-requirements"><a class="anchor" href="#project-requirements">#</a> Project Requirements</h3><ol><li><p>What database did you select, and which table are you going to represent as a Java POJO?  What fields did you select to map from table to Java class?  <strong>Discuss</strong> in your wiki page.</p></li><li><p>Add the following dependencies to your  <code>pom.xml</code> using a scope you feel is appropriate:</p><ol><li><code>junit</code> (latest non-beta version of junit 5)<details><summary>Code</summary><div><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.junit.jupiter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit-jupiter-engine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.7.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure></div></details></li><li><code>mysql-connector-java</code> (latest non-beta version of 8)<details><summary>Code</summary><div><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>8.0.23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure></div></details></li><li><strong>Important</strong> - build and plugins section.  At this time, we need to add specific versions of the maven test plugins for use with JUnit 5.  Add the following to your <code>pom.xml</code><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.22.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-failsafe-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.22.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>   </pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span></pre></td></tr></table></figure></li></ol></li><li><p>What scope(s) did you select and why?  <strong>Discuss</strong> in your wiki page.</p></li><li><p>Follow the Bean Validation <span class="exturl" data-url="aHR0cDovL2hpYmVybmF0ZS5vcmcvdmFsaWRhdG9yL2RvY3VtZW50YXRpb24vZ2V0dGluZy1zdGFydGVkLyNhbGwtdXBkYXRlcw==">Getting Started</span> guide to add Hibernate Validator and dependencies to your <code>pom.xml</code> using a scope you feel is appropriate.</p></li></ol><details><summary>Process</summary><div><figure class="highlight xml"><figcaption data-lang="XML"><span>Project Files/pom.xml</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>7.0.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.glassfish<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jakarta.el<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hibernate-validator-cdi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>7.0.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure></div></details><ol start="5"><li><p>In your Lab 3 project, create the following as demonstrated in class:</p><ol><li><p>POJO to represent the structure of a single database table.  You can pick any table in your preferred sample database.  You do not have to traverse relationships.  Keep it simple for this lab.<br>POJO 代表单个数据库表的结构。你可以选择你喜欢的示例数据库中的任何表。不必遍历关系。对于本练习，请使其保持简单。</p><ol><li>Include all <strong>required</strong> (not null) database columns as fields in your POJO.</li><li>Include a minimum of 2 bean validation constraints in your POJO.  These bean validation constraints should <strong>relate</strong> to database constraints (column length, not null, etc) or type of data (email, string, date, etc)</li></ol><details><summary>Process</summary><div><ul><li>在 <code>Projects/Source Packages</code> 新建一个 package，命名为 <code>domain</code> ，新建一个 Java Class，命名为 <code>Customer</code> 。</li><li>修改 NetBeans 配置 - Editor - Formating<br>Language: Java, Ctegory: Ordering, Insertion Point: Last in Category</li><li>Source - Insert Code - Add Property<br>Name: id , Type: Integer<br>Name: firstName, Type: String<br>Name: lastName<br>Name: email</li><li>Source - Insert Code - Constructor （三个，一个无参数，一个全参数，一个排除 id 外的其他参数）</li><li>Source - Insert Code - toString</li></ul><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre>···</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Email</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">NotBlank</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">NotNull</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Positive</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>···</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token annotation punctuation">@NotNull</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token annotation punctuation">@Positive</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token annotation punctuation">@NotBlank</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">String</span> firstName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token annotation punctuation">@NotBlank</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token annotation punctuation">@Email</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token annotation punctuation">@NotBlank</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span></pre></td></tr></table></figure></div></details></li><li><p>Two JUnit test classes.  One should be for testing the validation constraints in your POJO, and the other for testing JDBC CRUD operations.</p><ol><li><p>Make appropriate use of test fixtures, as discussed in class.</p></li><li><p>Make appropriate use of helper methods to extract and parameterize functionality - <span class="exturl" data-url="aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRG9uJTI3dF9yZXBlYXRfeW91cnNlbGY=">DRY (Don't repeat yourself)</span></p></li><li><p>In your validation test class, include at least 2 test methods proving your bean validation constraints work</p></li><li><p>In your JDBC test class, include a test method for each of the 4 CRUD operations (Create, Read, Update, Delete).</p><blockquote><p>I recommend you consider inserting a row for testing purposes in the @Before test fixture, and removing it in the @After test fixture.  By following that pattern, your test cases will always be testing a consistent database row, and will be completely separate from the &quot;actual&quot; data in the tables themselves.</p><p>I will be running your projects using maven, so make sure not to deviate from database name, username and password conventions outlined in our initial setup.</p></blockquote></li></ol><details><summary>Process</summary><div><ul><li>在 <code>Projects/Test Packages</code> 下新建两个 Java Class <code>CustomerValidationTest</code> 和 <code>CustomerJDBCTest</code></li></ul><figure class="highlight java"><figcaption data-lang="java"><span>CustomerValidationTest</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">domian<span class="token punctuation">.</span></span><span class="token class-name">Customer</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">ConstraintViolation</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">Validation</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">Validator</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">ValidatorFactory</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">AfterAll</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">AfterEach</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">BeforeAll</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">BeforeEach</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomerValidationTest</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    </pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">// 1. beforeAll</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token comment">// 2. beforeEach</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token comment">// 3. test1</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token comment">// 4. afterEach</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">// 5. beforeEach</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token comment">// 6. test2</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token comment">// 7. afterEach</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token comment">// 8. afterAll</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    </pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Validator</span> validator<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    </pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token annotation punctuation">@BeforeAll</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token class-name">ValidatorFactory</span> factory <span class="token operator">=</span> <span class="token class-name">Validation</span><span class="token punctuation">.</span><span class="token function">buildDefaultValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        validator <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token annotation punctuation">@AfterAll</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">afterAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token comment">// if validator were not auto-closeable, we should close it here</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token annotation punctuation">@BeforeEach</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token annotation punctuation">@AfterEach</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">customerInvalidEmail_expectFailure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        <span class="token class-name">Customer</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Customer"</span><span class="token punctuation">,</span> <span class="token string">"One"</span><span class="token punctuation">,</span> <span class="token string">"customercustomer.net"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre></pre></td></tr><tr><td data-num="54"></td><td><pre>        <span class="token function">assertTrue</span><span class="token punctuation">(</span>constraintViolations<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> constraintViolations<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>        <span class="token function">assertFalse</span><span class="token punctuation">(</span>constraintViolations<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>        </pre></td></tr><tr><td data-num="58"></td><td><pre>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ConstraintViolation</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span></span> problem <span class="token operator">:</span> constraintViolations<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>problem<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>        </pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    </pre></td></tr><tr><td data-num="64"></td><td><pre>    </pre></td></tr><tr><td data-num="65"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="66"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">customerIsCompletelyValid_expectPass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>        <span class="token class-name">Customer</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Customer"</span><span class="token punctuation">,</span> <span class="token string">"One"</span><span class="token punctuation">,</span> <span class="token string">"customer@customer.net"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConstraintViolation</span><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">></span><span class="token punctuation">></span></span> constraintViolations <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre></pre></td></tr><tr><td data-num="70"></td><td><pre>        <span class="token function">assertTrue</span><span class="token punctuation">(</span>constraintViolations<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> constraintViolations<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>        <span class="token function">assertTrue</span><span class="token punctuation">(</span>constraintViolations<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>    </pre></td></tr><tr><td data-num="75"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight java"><figcaption data-lang="java"><span>CustomerJDBCTest</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">domian<span class="token punctuation">.</span></span><span class="token class-name">Customer</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">AfterAll</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">AfterEach</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">BeforeAll</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">BeforeEach</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Assertions</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomerJDBCTest</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Connection</span> connection<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">// helper utility methods - to help us DRY (don't repeat yourself, at least</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token comment">// not in your code.  Repeat yourself all you want in your speech</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/Chinook?zeroDateTimeBehavior=CONVERT_TO_NULL"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">"itmd4515"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">"itmd4515"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        </pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token keyword">return</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">createACustomer</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> c<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token class-name">String</span> <span class="token constant">INSERT_SQL</span> <span class="token operator">=</span> <span class="token string">"insert into Customer "</span></pre></td></tr><tr><td data-num="30"></td><td><pre>                <span class="token operator">+</span> <span class="token string">"(CustomerId, FirstName, LastName, Email) "</span></pre></td></tr><tr><td data-num="31"></td><td><pre>                <span class="token operator">+</span> <span class="token string">"values (?,?,?,?)"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token constant">INSERT_SQL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>        </pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token comment">// returns either null, or the valid customer found in the database</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">Customer</span> <span class="token function">findACustomer</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token class-name">Customer</span> c <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>        <span class="token class-name">String</span> <span class="token constant">FIND_SQL</span> <span class="token operator">=</span> <span class="token string">"select * from Customer where CustomerId = ?"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre>        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token constant">FIND_SQL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        </pre></td></tr><tr><td data-num="52"></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>            c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>            c<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"CustomerId"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            c<span class="token punctuation">.</span><span class="token function">setFirstName</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"FirstName"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            c<span class="token punctuation">.</span><span class="token function">setLastName</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"LastName"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>            c<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"Email"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>        </pre></td></tr><tr><td data-num="60"></td><td><pre>        <span class="token keyword">return</span> c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre></pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre></pre></td></tr><tr><td data-num="64"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">readFromDatabaseAfterUpdate</span><span class="token punctuation">(</span><span class="token class-name">Customer</span> c<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>        <span class="token class-name">String</span> <span class="token constant">UPDATE_SQL</span> <span class="token operator">=</span> <span class="token string">"update Customer set "</span></pre></td></tr><tr><td data-num="66"></td><td><pre>                <span class="token operator">+</span> <span class="token string">"FirstName = ?, "</span></pre></td></tr><tr><td data-num="67"></td><td><pre>                <span class="token operator">+</span> <span class="token string">"LastName = ?, "</span></pre></td></tr><tr><td data-num="68"></td><td><pre>                <span class="token operator">+</span> <span class="token string">"Email = ? "</span></pre></td></tr><tr><td data-num="69"></td><td><pre>                <span class="token operator">+</span> <span class="token string">"where CustomerId = ?"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre></pre></td></tr><tr><td data-num="71"></td><td><pre>        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token constant">UPDATE_SQL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre></pre></td></tr><tr><td data-num="77"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre></pre></td></tr><tr><td data-num="79"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="80"></td><td><pre></pre></td></tr><tr><td data-num="81"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">deleteACustomer</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>        </pre></td></tr><tr><td data-num="83"></td><td><pre>        <span class="token class-name">String</span> <span class="token constant">DELETE_SQL</span> <span class="token operator">=</span> <span class="token string">"delete from Customer where CustomerId = ?"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token constant">DELETE_SQL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>        ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>        </pre></td></tr><tr><td data-num="88"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="89"></td><td><pre></pre></td></tr><tr><td data-num="90"></td><td><pre>    <span class="token annotation punctuation">@BeforeAll</span></pre></td></tr><tr><td data-num="91"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="92"></td><td><pre></pre></td></tr><tr><td data-num="93"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="94"></td><td><pre></pre></td></tr><tr><td data-num="95"></td><td><pre>    <span class="token annotation punctuation">@AfterAll</span></pre></td></tr><tr><td data-num="96"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">afterAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="97"></td><td><pre></pre></td></tr><tr><td data-num="98"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="99"></td><td><pre></pre></td></tr><tr><td data-num="100"></td><td><pre>    <span class="token comment">// before each test, you can stage any test data you need to work with</span></pre></td></tr><tr><td data-num="101"></td><td><pre>    <span class="token comment">// you won't want to rely on the data in the tables, because the next time</span></pre></td></tr><tr><td data-num="102"></td><td><pre>    <span class="token comment">// you run your test, it might be different</span></pre></td></tr><tr><td data-num="103"></td><td><pre>    <span class="token annotation punctuation">@BeforeEach</span></pre></td></tr><tr><td data-num="104"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>        connection <span class="token operator">=</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>        <span class="token class-name">Customer</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">,</span> <span class="token string">"Mayuri"</span><span class="token punctuation">,</span> <span class="token string">"Mizuki"</span><span class="token punctuation">,</span> <span class="token string">"mayuri@lostyu.me"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>        <span class="token function">createACustomer</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="109"></td><td><pre></pre></td></tr><tr><td data-num="110"></td><td><pre>    <span class="token comment">// after each test, you can clean up any test data that you staged earlier</span></pre></td></tr><tr><td data-num="111"></td><td><pre>    <span class="token annotation punctuation">@AfterEach</span></pre></td></tr><tr><td data-num="112"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>        <span class="token function">deleteACustomer</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="116"></td><td><pre></pre></td></tr><tr><td data-num="117"></td><td><pre>    <span class="token comment">// testing C R U D</span></pre></td></tr><tr><td data-num="118"></td><td><pre>    <span class="token comment">//</span></pre></td></tr><tr><td data-num="119"></td><td><pre>    <span class="token comment">// you never want test methods to depend on one another!</span></pre></td></tr><tr><td data-num="120"></td><td><pre>    <span class="token comment">// don't create data in the createTest, to test it with the readTest!</span></pre></td></tr><tr><td data-num="121"></td><td><pre>    <span class="token comment">// test methods should be atomic!</span></pre></td></tr><tr><td data-num="122"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="123"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createCustomerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>        <span class="token comment">// this is test data I am staging within this method</span></pre></td></tr><tr><td data-num="125"></td><td><pre>        <span class="token class-name">Customer</span> customerToCreate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token number">9998</span><span class="token punctuation">,</span> <span class="token string">"Test"</span><span class="token punctuation">,</span> <span class="token string">"Method"</span><span class="token punctuation">,</span> <span class="token string">"mayuri@lostyu.meu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="126"></td><td><pre>        <span class="token function">createACustomer</span><span class="token punctuation">(</span>customerToCreate<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="127"></td><td><pre></pre></td></tr><tr><td data-num="128"></td><td><pre>        <span class="token comment">// now that I've created the customer - I need to find it, and assert</span></pre></td></tr><tr><td data-num="129"></td><td><pre>        <span class="token comment">// the create was successful</span></pre></td></tr><tr><td data-num="130"></td><td><pre>        <span class="token class-name">Customer</span> foundInDatabase <span class="token operator">=</span> <span class="token function">findACustomer</span><span class="token punctuation">(</span><span class="token number">9998</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>        <span class="token function">assertNotNull</span><span class="token punctuation">(</span>foundInDatabase<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span>customerToCreate<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> foundInDatabase<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="133"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span>customerToCreate<span class="token punctuation">.</span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> foundInDatabase<span class="token punctuation">.</span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span>customerToCreate<span class="token punctuation">.</span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> foundInDatabase<span class="token punctuation">.</span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="135"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span>customerToCreate<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> foundInDatabase<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>        </pre></td></tr><tr><td data-num="137"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>foundInDatabase<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>        </pre></td></tr><tr><td data-num="139"></td><td><pre>        <span class="token comment">// clean up the data I staged within this method</span></pre></td></tr><tr><td data-num="140"></td><td><pre>        <span class="token function">deleteACustomer</span><span class="token punctuation">(</span><span class="token number">9998</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="142"></td><td><pre></pre></td></tr><tr><td data-num="143"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="144"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">readCustomerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="145"></td><td><pre>        <span class="token class-name">Customer</span> readFromDatabase <span class="token operator">=</span> <span class="token function">findACustomer</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>        <span class="token function">assertNotNull</span><span class="token punctuation">(</span>readFromDatabase<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="147"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">,</span> readFromDatabase<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="148"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="149"></td><td><pre></pre></td></tr><tr><td data-num="150"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="151"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateCustomerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="152"></td><td><pre>        <span class="token class-name">Customer</span> readFromDatabaseBeforeUpdate <span class="token operator">=</span> <span class="token function">findACustomer</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="153"></td><td><pre>        readFromDatabaseBeforeUpdate<span class="token punctuation">.</span><span class="token function">setLastName</span><span class="token punctuation">(</span><span class="token string">"Updated Successfully"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="154"></td><td><pre>        <span class="token function">readFromDatabaseAfterUpdate</span><span class="token punctuation">(</span>readFromDatabaseBeforeUpdate<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="155"></td><td><pre>        </pre></td></tr><tr><td data-num="156"></td><td><pre>        <span class="token class-name">Customer</span> updatedInDatabase <span class="token operator">=</span> <span class="token function">findACustomer</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="157"></td><td><pre>        <span class="token function">assertEquals</span><span class="token punctuation">(</span>readFromDatabaseBeforeUpdate<span class="token punctuation">.</span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>updatedInDatabase<span class="token punctuation">.</span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="158"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="159"></td><td><pre></pre></td></tr><tr><td data-num="160"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="161"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteCustomerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="162"></td><td><pre>        <span class="token comment">// this is test data I am staging within this method</span></pre></td></tr><tr><td data-num="163"></td><td><pre>        <span class="token class-name">Customer</span> customerToDelete <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token number">9998</span><span class="token punctuation">,</span> <span class="token string">"Test"</span><span class="token punctuation">,</span> <span class="token string">"Method"</span><span class="token punctuation">,</span> <span class="token string">"mayuri@lostyu.me"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="164"></td><td><pre>        <span class="token function">createACustomer</span><span class="token punctuation">(</span>customerToDelete<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="165"></td><td><pre></pre></td></tr><tr><td data-num="166"></td><td><pre>        <span class="token comment">// now that I've created the customer - I need to delete it, and then</span></pre></td></tr><tr><td data-num="167"></td><td><pre>        <span class="token comment">// try to re-find it, in order to assert that I can not - and therefore</span></pre></td></tr><tr><td data-num="168"></td><td><pre>        <span class="token comment">// it has been successfully deleted</span></pre></td></tr><tr><td data-num="169"></td><td><pre>        <span class="token function">deleteACustomer</span><span class="token punctuation">(</span><span class="token number">9998</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="170"></td><td><pre>        <span class="token class-name">Customer</span> tryAndFindDeletedCustomerInDatabase <span class="token operator">=</span> <span class="token function">findACustomer</span><span class="token punctuation">(</span><span class="token number">9998</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="171"></td><td><pre>        <span class="token function">assertNull</span><span class="token punctuation">(</span>tryAndFindDeletedCustomerInDatabase<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="172"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="173"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>Run - Test Project</li><li>Shell</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> NetBeansProjects/</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">ls</span> <span class="token parameter variable">-ltr</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">cd</span> lab3</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">ls</span></pre></td></tr><tr><td data-num="5"></td><td><pre>mvn clean <span class="token builtin class-name">test</span></pre></td></tr></table></figure></div></details></li></ol></li><li><p>Document Lab 3 execution in your wiki page by taking a screenshot of your NetBeans Test Results window (the red/yellow/green stoplight view shown in class).  Discuss any other issues or insights you had with Lab 3.</p></li><li><p>Test your Java SE project on the command line using maven. Document your experience (with code block output) on your wiki page, and discuss how command line Java relates to Maven (hint - think classpath and dependencies). What would you need to do (step by step) in order to run your project without maven, using only the Java SE provided java and javac binaries? In what ways does Maven help us?</p></li><li><p>Submit to Blackboard</p><ol><li>Right click your <strong>uid-lab3</strong>project and select <code>Clean</code></li><li>Go to your NetBeans Projects directory.  Create a zip file of the <strong>uid-lab3</strong> folder named (you guessed it) <strong>uid-lab3.zip</strong>.  Submit that zip file to the Blackboard assignment.</li></ol></li></ol><div class="tags"><a href="/tags/Java/" rel="tag"><i class="ic i-tag"></i> Java</a> <a href="/tags/Database/" rel="tag"><i class="ic i-tag"></i> Database</a> <a href="/tags/JDBC/" rel="tag"><i class="ic i-tag"></i> JDBC</a></div></div><footer><div class="meta"><span id="computer-science/mse/itmd-515/lab-3/" class="item leancloud_visitors" data-flag-title="Lab 3. Junit, JDBC and Bean Validation" title="Views"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">Views</span> <span class="leancloud-visitors-count"></span> <span class="text">times</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Ruri Shimotsuki 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Ruri Shimotsuki 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Ruri Shimotsuki 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Ruri Shimotsuki <i class="ic i-at"><em>@</em></i>有夢書架</li><li class="link"><strong>Post link: </strong><a href="https://shoka.lostyu.me/computer-science/mse/itmd-515/lab-3/" title="Lab 3. Junit, JDBC and Bean Validation">https://shoka.lostyu.me/computer-science/mse/itmd-515/lab-3/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/mse/itmm-571/lecture-2/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;009ee927d495427d088feacdda5589be.jpg" title="Lecture 2. Integration Management"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> ITMM 571. Project Management</span><h3>Lecture 2. Integration Management</h3></a></div><div class="item right"><a href="/computer-science/mse/itmd-515/lab-4/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;a3893b60653fe5923434b1eef4de7c7b.jpg" title="Lab 4. Web Applications, Servlet and JSP"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> ITMD 515. Advanced Software Programming</span><h3>Lab 4. Web Applications, Servlet and JSP</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#notes"><span class="toc-number">1.</span> <span class="toc-text">Notes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#jdbc"><span class="toc-number">1.1.</span> <span class="toc-text">JDBC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#using-preparedstatement"><span class="toc-number">1.1.1.</span> <span class="toc-text">Using PreparedStatement</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#situation"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">Situation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#advantages"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">Advantages</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#using-callablestatement"><span class="toc-number">1.1.2.</span> <span class="toc-text">Using CallableStatement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#transaction-%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.1.3.</span> <span class="toc-text">Transaction 事务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#what-is-a-transaction"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">What is a Transaction?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#acid-properties-of-a-transaction-%E4%BA%8B%E5%8A%A1%E7%9A%84acid%E5%B1%9E%E6%80%A7"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">ACID Properties of a Transaction 事务的 ACID 属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jdbc-transactions"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">JDBC Transactions</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bean-validation"><span class="toc-number">1.2.</span> <span class="toc-text">Bean Validation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#built-in-constraints-11"><span class="toc-number">1.2.1.</span> <span class="toc-text">Built-In Constraints - 1.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#new-constraints-20"><span class="toc-number">1.2.2.</span> <span class="toc-text">New Constraints - 2.0</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#testing"><span class="toc-number">1.3.</span> <span class="toc-text">Testing</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lab"><span class="toc-number">2.</span> <span class="toc-text">Lab</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#summary"><span class="toc-number">2.1.</span> <span class="toc-text">Summary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#requirements"><span class="toc-number">2.2.</span> <span class="toc-text">Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#database-setup"><span class="toc-number">2.2.1.</span> <span class="toc-text">Database Setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#project-setup"><span class="toc-number">2.2.2.</span> <span class="toc-text">Project Setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#project-requirements"><span class="toc-number">2.2.3.</span> <span class="toc-text">Project Requirements</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li class="active"><a href="/computer-science/mse/itmd-515/lab-3/" rel="bookmark" title="Lab 3. Junit, JDBC and Bean Validation">Lab 3. Junit, JDBC and Bean Validation</a></li><li><a href="/computer-science/mse/itmd-515/lab-4/" rel="bookmark" title="Lab 4. Web Applications, Servlet and JSP">Lab 4. Web Applications, Servlet and JSP</a></li><li><a href="/computer-science/mse/itmd-515/lab-5/" rel="bookmark" title="Lab 5. ORM and JPA">Lab 5. ORM and JPA</a></li><li><a href="/computer-science/mse/itmd-515/lab-6/" rel="bookmark" title="Lab 6. JPA Relationships">Lab 6. JPA Relationships</a></li><li><a href="/computer-science/mse/itmd-515/lab-7/" rel="bookmark" title="Lab 7. EJB Service Layer">Lab 7. EJB Service Layer</a></li><li><a href="/computer-science/mse/itmd-515/lab-8/" rel="bookmark" title="Lab 8. Java Server Faces">Lab 8. Java Server Faces</a></li><li><a href="/computer-science/mse/itmd-515/lab-9/" rel="bookmark" title="Lab 9. Web Application Security">Lab 9. Web Application Security</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Ruri Shimotsuki" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Ruri Shimotsuki</p><div class="description" itemprop="description">琉璃的医学 & 编程笔记</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">313</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">74</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">73</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWU=" title="https:&#x2F;&#x2F;github.com&#x2F;amehime"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9hbWVoaW1l" title="https:&#x2F;&#x2F;twitter.com&#x2F;amehime"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9hbWVoaW1l" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;amehime"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTEyODg2ODIz" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;12886823"><i class="ic i-cloud-music"></i></span> <span class="exturl item telegram" data-url="aHR0cHM6Ly90Lm1lL2FtZWhpbWU=" title="https:&#x2F;&#x2F;t.me&#x2F;amehime"><i class="ic i-paper-plane"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS9hbWVoaW1l" title="https:&#x2F;&#x2F;about.me&#x2F;amehime"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a><ul class="submenu"><li class="item"><a href="/about/yume" rel="section"><i class="ic i-cloud"></i>自设</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-magic"></i>链环</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item"><a href="/webstack/" rel="section"><i class="ic i-star"></i>网址</a></li></ul></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly90cmF2ZWxsaW5ncy5saW5r"><i class="ic i-paper-plane"></i>开往</span></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/mse/itmm-571/lecture-2/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/mse/itmd-515/lab-4/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="In 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="In Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmd-510/" title="In ITMD 510. Object-Oriented App Develop">ITMD 510. Object-Oriented App Develop</a></div><span><a href="/computer-science/mse/itmd-510/week-2/" title="Week 2. A First Look at Classes">Week 2. A First Look at Classes</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/clinical-medicine/" title="In 临床医学">临床医学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/exams/" title="In 考试">考试</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/exams/graduate/" title="In 研究生入学">研究生入学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/exams/graduate/course-1/" title="In 西医综合 - 内科学">西医综合 - 内科学</a></div><span><a href="/clinical-medicine/exams/graduate/course-1/chapter-8/" title="第8章 胸膜疾病（胸腔积液、气胸）">第8章 胸膜疾病（胸腔积液、气胸）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/clinical-medicine/" title="In 临床医学">临床医学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiology/" title="In 心血管病学">心血管病学</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiology/echocardiography/" title="In 超声心动图">超声心动图</a> <i class="ic i-angle-right"></i> <a href="/categories/clinical-medicine/cardiology/echocardiography/basics/" title="In 第一阶段 Basics">第一阶段 Basics</a></div><span><a href="/clinical-medicine/cardiology/echocardiography/basics/course-1/" title="01. Basics of Cardiac Ultrasound 心脏超声的基本原理">01. Basics of Cardiac Ultrasound 心脏超声的基本原理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/foreign-language/" title="In 外语">外语</a> <i class="ic i-angle-right"></i> <a href="/categories/foreign-language/english/" title="In English">English</a> <i class="ic i-angle-right"></i> <a href="/categories/foreign-language/english/ci/" title="In Comprehensible Input">Comprehensible Input</a> <i class="ic i-angle-right"></i> <a href="/categories/foreign-language/english/ci/youglish/" title="In youglish">youglish</a></div><span><a href="/foreign-language/english/ci/youglish/day-5/" title="Word of the day 5">Word of the day 5</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="In 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="In Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmd-515/" title="In ITMD 515. Advanced Software Programming">ITMD 515. Advanced Software Programming</a></div><span><a href="/computer-science/mse/itmd-515/lab-5/" title="Lab 5. ORM and JPA">Lab 5. ORM and JPA</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="In 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="In Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmm-571/" title="In ITMM 571. Project Management">ITMM 571. Project Management</a></div><span><a href="/computer-science/mse/itmm-571/lecture-1/" title="Lecture 1. Understanding Project Management Basics">Lecture 1. Understanding Project Management Basics</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/useless-stuff/" title="In 空谷幽兰">空谷幽兰</a> <i class="ic i-angle-right"></i> <a href="/categories/useless-stuff/tourism/" title="In 导游资格">导游资格</a> <i class="ic i-angle-right"></i> <a href="/categories/useless-stuff/tourism/course-2/" title="In 科目二 - 导游业务">科目二 - 导游业务</a></div><span><a href="/useless-stuff/tourism/course-2/quiz-2/" title="题库 - 服务规范篇">题库 - 服务规范篇</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="In 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/certificate/" title="In 证书">证书</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/certificate/ispm/" title="In 软考高项">软考高项</a></div><span><a href="/computer-science/certificate/ispm/chapter-9/" title="第9章 项目人力资源管理">第9章 项目人力资源管理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="In 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/certificate/" title="In 证书">证书</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/certificate/pmp/" title="In 项目管理">项目管理</a></div><span><a href="/computer-science/certificate/pmp/chapter-9/" title="第9章 项目资源管理">第9章 项目资源管理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="In 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/" title="In Master of Software Engineering">Master of Software Engineering</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mse/itmm-571/" title="In ITMM 571. Project Management">ITMM 571. Project Management</a></div><span><a href="/computer-science/mse/itmm-571/lecture-8/" title="Lecture 8. Time Management">Lecture 8. Time Management</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Ruri Shimotsuki @ Yume Shoka</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">3.5m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">53:16</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/mse/itmd-515/lab-3/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?60ab4a51924a588bb4d810652c9412f1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>